(()=>{var e={};e.id=298,e.ids=[298],e.modules={344:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});let a=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/bobby060/photoportfolio/src/components/ManageAccount.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/bobby060/photoportfolio/src/components/ManageAccount.js","default")},418:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var a=r(37413),s=r(344);function n(){return(0,a.jsx)(s.default,{})}},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},35207:(e,t,r)=>{"use strict";r.d(t,{default:()=>f});var a=r(60687),s=r(43210),n=r(98654),i=r(22102),o=r(72938),l=r(16189);r(35921);var u=r(53437),d=r(77466);r(5631);var c=r(36539);r(31336);let p=(0,n.D)({authMode:"apiKey"}),m=(0,n.D)({authMode:"userPool"}),h=async e=>{let t=new Image;return t.src=e,await t.decode(),[t.naturalHeight,t.naturalWidth]};async function b(e){let t={id:e.id,type:"Album"};console.log(e);let r=await m.graphql({query:u.AP,variables:{input:t}});r&&(console.log(r),console.log(`upgraded ${e.id}`))}async function g(){var e=null;let t=await p.graphql({query:d.bl,variables:{limit:10}});for(e=t.data.listAlbums.nextToken,await Promise.all(t.data.listAlbums.items.map(e=>b(e)));e;){let t=await p.graphql({query:d.bl,variables:{limit:10,nextToken:e}});e=t.data.listAlbums.nextToken,await Promise.all(t.data.listAlbums.items.map(e=>b(e)))}console.log("all albums upgraded")}let x=(0,n.D)();function f(){let e=(0,o.A)(e=>[e.authStatus]),[t,r]=(0,s.useState)(!1),[n,p]=(0,s.useState)([]);async function m(e){window.confirm(`Are you sure you want to delete the tag ${e.title}?`)&&(p(n.filter(t=>t.id!==e.id)),(await x.graphql({query:d.X8,variables:{albumTagsId:e.id}})).data.albumTagsAlbumsByAlbumTagsId.items.map(async e=>{await x.graphql({query:u.cD,variables:{input:{id:e.id}}})}),await x.graphql({query:u.Km,variables:{input:{id:e.id}}}),console.log("tag deleted"))}async function h(e){e.preventDefault();let t=new FormData(e.target).get("inlineRadio");console.log(t),c.A.setCurrentEnvironment(t),c.A.save()}let{signOut:b}=(0,o.A)(e=>[e.user]);return"unauthenticated"===e.authStatus&&(0,l.redirect)("/signin"),(0,a.jsxs)(i.Dj,{children:[(0,a.jsx)("h4",{className:"mt-2",children:" Manage Account Here"}),t?(0,a.jsx)(function(){return(0,a.jsxs)(i.m6,{md:"3",lg:"2",sm:"5",className:"ms-auto me-auto",children:[(0,a.jsx)("hr",{className:"hr"}),(0,a.jsx)("p",{className:"mt-1",children:"Manage Tags"}),(0,a.jsx)(i.lC,{light:!0,children:n.map(e=>(0,a.jsxs)(i._N,{className:"d-flex",children:[(0,a.jsx)("p",{className:"w-100",children:e.title}),(0,a.jsx)(i.al,{tag:"a",color:"none",style:{color:"#000000"},onClick:()=>{m(e)},children:(0,a.jsx)(i.$u,{className:"",fas:!0,icon:"trash"})})]},e.id))}),(0,a.jsx)("p",{className:"mt-1",children:"Change current environment"}),(0,a.jsxs)("form",{className:"m-1",onSubmit:h,children:["dev"===c.A.getCurrentEnvironment()?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.Zq,{name:"inlineRadio",value:"dev",label:"dev",inline:!0,defaultChecked:!0}),(0,a.jsx)(i.Zq,{name:"inlineRadio",value:"staging",label:"staging",inline:!0})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.Zq,{name:"inlineRadio",value:"dev",label:"dev",inline:!0}),(0,a.jsx)(i.Zq,{name:"inlineRadio",value:"staging",label:"staging",inline:!0,defaultChecked:!0})]}),(0,a.jsx)(i.al,{className:"bg-dark m-1",children:"Save"})]}),(0,a.jsx)("hr",{className:"hr"}),(0,a.jsx)(i.al,{className:"bg-dark m-1",onClick:()=>g(),children:"Update DB"})]})},{}):(0,a.jsx)(a.Fragment,{}),(0,a.jsx)(i.al,{className:"bg-dark",onClick:function(){b(),(0,l.redirect)("/signin")},children:"Sign Out"})]})}},35921:(e,t,r)=>{"use strict";r.d(t,{Mp:()=>i,yy:()=>o});var a=r(98654),s=r(77466);let n=(0,a.D)({authMode:"apiKey"});async function i(){return(await n.graphql({query:s.FM})).data.listAlbumTags.items}async function o(){return(await n.graphql({query:s.FM,variables:{filter:{privacy:{eq:"public"}}}})).data.listAlbumTags.items}},50389:(e,t,r)=>{Promise.resolve().then(r.bind(r,344))},55511:e=>{"use strict";e.exports=require("crypto")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:e=>{"use strict";e.exports=require("zlib")},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},92245:(e,t,r)=>{Promise.resolve().then(r.bind(r,35207))},97131:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>c,pages:()=>d,routeModule:()=>p,tree:()=>u});var a=r(65239),s=r(48088),n=r(88170),i=r.n(n),o=r(30893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let u={children:["",{children:["account",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,418)),"/home/bobby060/photoportfolio/src/app/account/page.js"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,78162))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,75535)),"/home/bobby060/photoportfolio/src/app/layout.js"],error:[()=>Promise.resolve().then(r.bind(r,92463)),"/home/bobby060/photoportfolio/src/app/error.js"],loading:[()=>Promise.resolve().then(r.bind(r,87273)),"/home/bobby060/photoportfolio/src/app/loading.js"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,78162))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["/home/bobby060/photoportfolio/src/app/account/page.js"],c={require:r,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/account/page",pathname:"/account",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[447,715,658,654,131,89],()=>r(97131));module.exports=a})();