(()=>{var e={};e.id=217,e.ids=[217],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},18092:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(60687),l=n(43210),a=n(22102);function i({items:e,breakpoints:t,loadNextItems:n=()=>{},isLoading:i=!0,setIsLoading:o=()=>{}}){let[s,u]=(0,l.useState)({width:void 0,height:void 0}),[c,d]=(0,l.useState)(0),h=(0,l.useRef)(null),m=(0,l.useRef)(),f=function(){if(void 0===s.width)return 1;let e=s.width;for(let n=t.length-1;n>=0;n--)if(t[n]<e)return n}(),p=Array(f);for(let t=0;t<e.length;t++){let n=e[t],r=t%f;p[r]||(p[r]=[]),p[r].push(n)}return(0,r.jsxs)("div",{ref:m,children:[(0,r.jsx)(a.gU,{className:"m-1",style:{minHeight:`calc(100vh-${c}`},children:p.map((e,t)=>(0,r.jsx)(a.m6,{className:"column p-0",children:e.map(e=>e)},t))}),(0,r.jsx)("p",{className:"display-block",ref:h})]})}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},23514:(e,t,n)=>{Promise.resolve().then(n.bind(n,39085))},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},31265:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalError:()=>i.a,__next_app__:()=>d,pages:()=>c,routeModule:()=>h,tree:()=>u});var r=n(65239),l=n(48088),a=n(88170),i=n.n(a),o=n(30893),s={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(s[e]=()=>o[e]);n.d(t,s);let u={children:["",{children:["albums",{children:["[album_url]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(n.bind(n,44941)),"/home/bobby060/photoportfolio/src/app/albums/[album_url]/page.js"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(n.bind(n,78162))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(n.bind(n,75535)),"/home/bobby060/photoportfolio/src/app/layout.js"],error:[()=>Promise.resolve().then(n.bind(n,92463)),"/home/bobby060/photoportfolio/src/app/error.js"],loading:[()=>Promise.resolve().then(n.bind(n,87273)),"/home/bobby060/photoportfolio/src/app/loading.js"],"not-found":[()=>Promise.resolve().then(n.t.bind(n,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(n.t.bind(n,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(n.t.bind(n,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(n.bind(n,78162))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/home/bobby060/photoportfolio/src/app/albums/[album_url]/page.js"],d={require:n,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:l.RouteKind.APP_PAGE,page:"/albums/[album_url]/page",pathname:"/albums/[album_url]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},33873:e=>{"use strict";e.exports=require("path")},35921:(e,t,n)=>{"use strict";n.d(t,{Mp:()=>i,yy:()=>o});var r=n(98654),l=n(77466);let a=(0,r.D)({authMode:"apiKey"});async function i(){return(await a.graphql({query:l.FM})).data.listAlbumTags.items}async function o(){return(await a.graphql({query:l.FM,variables:{filter:{privacy:{eq:"public"}}}})).data.listAlbumTags.items}},37270:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(98654),l=n(3512),a=n(53437);let i=(0,r.D)();async function o(e,t,n=()=>{}){let r=["image/gif","image/jpeg","image/png"],s=0;async function u(t){if(!r.includes(t.type))return void console.warn(`file ${t.name} is not a valid file type!`);let o="",u={},c="";try{let r=new Image;r.src=window.URL.createObjectURL(t),await r.decode();let d=[r.naturalHeight,r.naturalWidth],h={title:t.name,desc:"",filename:t.name,date:new Date().toISOString(),albumsID:e.id,height:d[0],width:d[1]};try{let e=await i.graphql({query:a.r0,variables:{input:h}});o=(u=e?.data?.createImages).id,c=`${u.id}-${t.name}`}catch(e){console.warn("Error creating image: ",t.name,e);return}try{await (0,l.C)({key:c,data:t})}catch(e){console.warn("Image not uploaded. Error: ",e),await i.graphql({query:a.KK,variables:{input:{id:o}}});return}s+=1,n(s)}catch(e){console.warn("Error uploading image: ",t.name,e);return}console.log(`${t.name} sucessfully uploaded`)}if(t.length>0){let e=Array.from(t);console.log("starting uploads"),await Promise.all(e.map(e=>u(e))),console.log("All images uploaded!")}}},39085:(e,t,n)=>{"use strict";n.d(t,{default:()=>r});let r=(0,n(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/bobby060/photoportfolio/src/components/Album.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/bobby060/photoportfolio/src/components/Album.js","default")},44941:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(37413),l=n(39085);async function a({params:e}){let{album_url:t,children:n}=await e;return(0,r.jsx)(l.default,{album_url:t,children:n})}},55511:e=>{"use strict";e.exports=require("crypto")},57794:(e,t,n)=>{Promise.resolve().then(n.bind(n,96557))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:e=>{"use strict";e.exports=require("zlib")},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},85129:()=>{},87632:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(60687),l=n(43210),a=n(22102);function i({selected:e=!1,onSelect:t=()=>{},onDeselect:n=()=>{},name:i}){let[o,s]=(0,l.useState)(e);function u(){o?(s(!1),n()):(s(!0),t())}return o?(0,r.jsxs)(a.al,{rounded:!0,className:"text-light m-1",size:"sm",color:"dark",onClick:()=>u(),children:[i,"  ",(0,r.jsx)(a.$u,{className:"text-white-50",icon:"times"})]}):(0,r.jsx)(a.al,{rounded:!0,outline:!0,onClick:()=>u(),className:"text-dark m-1",size:"sm",color:"dark",children:i})}},96557:(e,t,n)=>{"use strict";n.d(t,{default:()=>t6});var r,l,a=n(60687),i=n(43210),o=n(22102),s=n(98654),u=n(72938);n(85814);var c=n(53437),d=n(31336),h=n(36539);n(5631);var m=n(73828),f=n(32401);n(61421),n(35707),n(79428);var p=n(74454),g=n(25864),v=n(81190),b=n(9406),x=n(57316),w=n(84237),y=n(29952),E=n(5235),k=n(40964),M=n(9059);let N=async e=>{if(!(e.statusCode>=300))return{...(0,k.Tj)(e.headers,{DeleteMarker:["x-amz-delete-marker",k.OI],VersionId:"x-amz-version-id",RequestCharged:"x-amz-request-charged"}),$metadata:(0,v.j)(e)};{let t=await (0,y.V)(e);throw(0,k.Pu)(t,e.statusCode)}},j=(0,x.A)(E.o,(e,t)=>{let n=new b.o(t.url.toString());return(0,M.Nt)(!!e.Key,"Key"),n.pathname=(0,M.DB)(n,e.Key),{method:"DELETE",headers:{},url:n}},N,{...w.sb,responseType:"text"});var C=n(94518);let S=async(e,t)=>{let{key:n,options:r={}}=t,{s3Config:l,keyPrefix:a,bucket:i}=await (0,p.a)(e,r),o=`${a}${n}`;return g.v.debug(`remove "${n}" from "${o}".`),await j({...l,userAgentValue:(0,C.B)(f.sZ.Remove)},{Bucket:i,Key:o}),{key:n}},I=e=>S(m.H,e);var P=n(77466),L=n(18092);let D="carousel",R="controller",$="portal",_="toolbar",A="zoom",q="loading",F="error",O="complete",z=e=>`active-slide-${e}`;z(q),z("playing"),z(F),z(O);let T="flex_center",W="no_scroll_padding",U="slide_wrapper",H="prev",K="next",X="swipe",B="close",Z="onPointerDown",V="onPointerMove",Y="onPointerUp",G="onPointerLeave",J="onPointerCancel",Q="onKeyDown",ee="onWheel",et="icon",en="contain",er="cover",el="Unknown action type";var ea=n(51215);let ei=(...e)=>[...e].filter(e=>!!e).join(" "),eo="yarl__",es=e=>`${eo}${e}`,eu=e=>`--${eo}${e}`,ec=(e,t)=>`${e}${t?`_${t}`:""}`,ed=e=>t=>ec(e,t),eh=(e,t)=>e&&e[t]?e[t]:t,em=(...e)=>()=>{e.forEach(e=>{e()})},ef=(e,t,n)=>()=>{let r=i.useContext(n);if(!r)throw Error(`${e} must be used within a ${t}.Provider`);return r},ep=()=>!1;function eg(e,t=0){let n=10**t;return Math.round((e+Number.EPSILON)*n)/n}let ev=e=>void 0===e.type||"image"===e.type,eb=(e,t)=>e.imageFit===er||e.imageFit!==en&&t===er;function ex(e){return"string"==typeof e?Number.parseInt(e,10):e}function ew(e){if("number"==typeof e)return{pixel:e};if("string"==typeof e){let t=ex(e);return e.endsWith("%")?{percent:t}:{pixel:t}}return{pixel:0}}let ey=()=>(ep()?null==window?void 0:window.devicePixelRatio:void 0)||1,eE=(e,t)=>t>0?(e%t+t)%t:0,ek=e=>e.length>0,eM=(e,t)=>e[eE(t,e.length)],eN=(e,t)=>ek(e)?eM(e,t):void 0;function ej(e,t,n){if(!n)return e;let{buttons:r,...l}=e,a=r.findIndex(e=>e===t),o=i.isValidElement(n)?i.cloneElement(n,{key:t},null):n;if(a>=0){let e=[...r];return e.splice(a,1,o),{buttons:e,...l}}return{buttons:[o,...r],...l}}let eC={open:!1,close:()=>{},index:0,slides:[],render:{},plugins:[],toolbar:{buttons:[B]},labels:{},animation:{fade:250,swipe:500,easing:{fade:"ease",swipe:"ease-out",navigation:"ease-in-out"}},carousel:{finite:!1,preload:2,padding:"16px",spacing:"30%",imageFit:en,imageProps:{}},controller:{ref:null,focus:!0,aria:!1,touchAction:"none",closeOnPullDown:!1,closeOnBackdropClick:!1},portal:{},noScroll:{disabled:!1},on:{},styles:{},className:""};function eS(e,t){return{name:e,component:t}}function eI(e,t){return{module:e,children:t}}function eP(e,t,n){return e.flatMap(e=>{var r;return null!=(r=function e(t,n,r){return t.module.name===n?r(t):t.children?[eI(t.module,t.children.flatMap(t=>{var l;return null!=(l=e(t,n,r))?l:[]}))]:[t]}(e,t,n))?r:[]})}let eL=i.createContext(null),eD=ef("useEvents","EventsContext",eL);function eR({children:e}){let[t]=i.useState({});i.useEffect(()=>()=>{Object.keys(t).forEach(e=>delete t[e])},[t]);let n=i.useMemo(()=>{let e=(e,n)=>{var r;null==(r=t[e])||r.splice(0,t[e].length,...t[e].filter(e=>e!==n))};return{publish:(...[e,n])=>{var r;null==(r=t[e])||r.forEach(e=>e(n))},subscribe:(n,r)=>(t[n]||(t[n]=[]),t[n].push(r),()=>e(n,r)),unsubscribe:e}},[t]);return i.createElement(eL.Provider,{value:n},e)}let e$=i.createContext(null),e_=ef("useLightboxProps","LightboxPropsContext",e$);function eA({children:e,...t}){return i.createElement(e$.Provider,{value:t},e)}let eq=i.createContext(null),eF=ef("useLightboxState","LightboxStateContext",eq),eO=i.createContext(null),ez=ef("useLightboxDispatch","LightboxDispatchContext",eO);function eT(e,t){switch(t.type){case"swipe":{let{slides:n}=e,r=(null==t?void 0:t.increment)||0,l=e.globalIndex+r,a=eE(l,n.length),i=eN(n,a);return{slides:n,currentIndex:a,globalIndex:l,currentSlide:i,animation:r||t.duration?{increment:r,duration:t.duration,easing:t.easing}:void 0}}case"update":if(t.slides!==e.slides||t.index!==e.currentIndex)return{slides:t.slides,currentIndex:t.index,globalIndex:t.index,currentSlide:eN(t.slides,t.index)};return e;default:throw Error(el)}}function eW({slides:e,index:t,children:n}){let[r,l]=i.useReducer(eT,{slides:e,currentIndex:t,globalIndex:t,currentSlide:eN(e,t)});i.useEffect(()=>{l({type:"update",slides:e,index:t})},[e,t]);let a=i.useMemo(()=>({...r,state:r,dispatch:l}),[r,l]);return i.createElement(eO.Provider,{value:l},i.createElement(eq.Provider,{value:a},n))}let eU=i.createContext(null),eH=ef("useTimeouts","TimeoutsContext",eU);function eK({children:e}){let[t]=i.useState([]);i.useEffect(()=>()=>{t.forEach(e=>window.clearTimeout(e)),t.splice(0,t.length)},[t]);let n=i.useMemo(()=>{let e=e=>{t.splice(0,t.length,...t.filter(t=>t!==e))};return{setTimeout:(n,r)=>{let l=window.setTimeout(()=>{e(l),n()},r);return t.push(l),l},clearTimeout:t=>{void 0!==t&&(e(t),window.clearTimeout(t))}}},[t]);return i.createElement(eU.Provider,{value:n},e)}let eX=i.forwardRef(function({label:e,className:t,icon:n,renderIcon:r,onClick:l,style:a,...o},s){let{styles:u,labels:c}=e_();return i.createElement("button",{ref:s,type:"button","aria-label":eh(c,e),className:ei(es("button"),t),onClick:l,style:{...a,...u.button},...o},r?r():i.createElement(n,{className:es(et),style:u.icon}))});function eB(e,t){var n=e,r=i.createElement("g",{fill:"currentColor"},i.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),t);let l=e=>i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false",...e},r);return l.displayName=n,l}let eZ=eB("Close",i.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),eV=eB("Previous",i.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),eY=eB("Next",i.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),eG=eB("Loading",i.createElement(i.Fragment,null,Array.from({length:8}).map((e,t,n)=>i.createElement("line",{key:t,x1:"12",y1:"6.5",x2:"12",y2:"1.8",strokeLinecap:"round",strokeWidth:"2.6",stroke:"currentColor",strokeOpacity:1/n.length*(t+1),transform:`rotate(${360/n.length*t}, 12, 12)`})))),eJ=eB("Error",i.createElement("path",{d:"M21.9,21.9l-8.49-8.49l0,0L3.59,3.59l0,0L2.1,2.1L0.69,3.51L3,5.83V19c0,1.1,0.9,2,2,2h13.17l2.31,2.31L21.9,21.9z M5,18 l3.5-4.5l2.5,3.01L12.17,15l3,3H5z M21,18.17L5.83,3H19c1.1,0,2,0.9,2,2V18.17z"})),eQ=ep()?i.useLayoutEffect:i.useEffect;function e0(){let[e,t]=i.useState(!1);return i.useEffect(()=>{var e,n;let r=null==(e=window.matchMedia)?void 0:e.call(window,"(prefers-reduced-motion: reduce)");t(null==r?void 0:r.matches);let l=e=>t(e.matches);return null==(n=null==r?void 0:r.addEventListener)||n.call(r,"change",l),()=>{var e;return null==(e=null==r?void 0:r.removeEventListener)?void 0:e.call(r,"change",l)}},[]),e}function e1(e,t){let n=i.useRef(),r=i.useRef(),l=e0();return eQ(()=>{var a,i,o;if(e.current&&void 0!==n.current&&!l){let{keyframes:l,duration:s,easing:u,onfinish:c}=t(n.current,e.current.getBoundingClientRect(),function(e){let t=0,n=0,r=0,l=window.getComputedStyle(e).transform.match(/matrix.*\((.+)\)/);if(l){let e=l[1].split(",").map(ex);6===e.length?(t=e[4],n=e[5]):16===e.length&&(t=e[12],n=e[13],r=e[14])}return{x:t,y:n,z:r}}(e.current))||{};if(l&&s){null==(a=r.current)||a.cancel(),r.current=void 0;try{r.current=null==(o=(i=e.current).animate)?void 0:o.call(i,l,{duration:s,easing:u})}catch(e){console.error(e)}r.current&&(r.current.onfinish=()=>{r.current=void 0,null==c||c()})}}n.current=void 0}),{prepareAnimation:e=>{n.current=e},isAnimationPlaying:()=>{var e;return(null==(e=r.current)?void 0:e.playState)==="running"}}}function e2(){let e=i.useRef(null),t=i.useRef(),[n,r]=i.useState();return{setContainerRef:i.useCallback(n=>{e.current=n,t.current&&(t.current.disconnect(),t.current=void 0);let l=()=>{if(n){let e=window.getComputedStyle(n),t=e=>parseFloat(e)||0;r({width:Math.round(n.clientWidth-t(e.paddingLeft)-t(e.paddingRight)),height:Math.round(n.clientHeight-t(e.paddingTop)-t(e.paddingBottom))})}else r(void 0)};l(),n&&"undefined"!=typeof ResizeObserver&&(t.current=new ResizeObserver(l),t.current.observe(n))},[]),containerRef:e,containerRect:n}}function e5(){let e=i.useRef(),{setTimeout:t,clearTimeout:n}=eH();return i.useCallback((r,l)=>{n(e.current),e.current=t(r,l>0?l:0)},[t,n])}function e9(e){let t=i.useRef(e);return eQ(()=>{t.current=e}),i.useCallback((...e)=>{var n;return null==(n=t.current)?void 0:n.call(t,...e)},[])}function e3(e,t){"function"==typeof e?e(t):e&&(e.current=t)}function e4(e,t){return i.useMemo(()=>null==e&&null==t?null:n=>{e3(e,n),e3(t,n)},[e,t])}function e6(){let[e,t]=i.useState(!1);return eQ(()=>{t("rtl"===window.getComputedStyle(window.document.documentElement).direction)},[]),e}function e7(e,t){let n=i.useRef(0),r=e5(),l=e9((...t)=>{n.current=Date.now(),e(t)});return i.useCallback((...e)=>{r(()=>{l(e)},t-(Date.now()-n.current))},[t,l,r])}let e8=ed("slide"),te=ed("slide_image");function tt({slide:e,offset:t,render:n,rect:r,imageFit:l,imageProps:a,onClick:o,onLoad:s,style:u}){var c,d,h,m,f,p,g;let[v,b]=i.useState(q),{publish:x}=eD(),{setTimeout:w}=eH(),y=i.useRef(null);i.useEffect(()=>{0===t&&x(z(v))},[t,v,x]);let E=e9(e=>{("decode"in e?e.decode():Promise.resolve()).catch(()=>{}).then(()=>{e.parentNode&&(b(O),w(()=>{null==s||s(e)},0))})}),k=i.useCallback(e=>{y.current=e,(null==e?void 0:e.complete)&&E(e)},[E]),M=i.useCallback(e=>{E(e.currentTarget)},[E]),N=i.useCallback(()=>{b(F)},[]),j=eb(e,l),C=(e,t)=>Number.isFinite(e)?e:t,S=C(Math.max(...(null!=(d=null==(c=e.srcSet)?void 0:c.map(e=>e.width))?d:[]).concat(e.width?[e.width]:[]).filter(Boolean)),(null==(h=y.current)?void 0:h.naturalWidth)||0),I=C(Math.max(...(null!=(f=null==(m=e.srcSet)?void 0:m.map(e=>e.height))?f:[]).concat(e.height?[e.height]:[]).filter(Boolean)),(null==(p=y.current)?void 0:p.naturalHeight)||0),P=S&&I?{maxWidth:`min(${S}px, 100%)`,maxHeight:`min(${I}px, 100%)`}:{maxWidth:"100%",maxHeight:"100%"},L=null==(g=e.srcSet)?void 0:g.sort((e,t)=>e.width-t.width).map(e=>`${e.src} ${e.width}w`).join(", "),D=L&&r&&ep()?`${Math.round(Math.min(r&&!j&&e.width&&e.height?r.height/e.height*e.width:Number.MAX_VALUE,r.width))}px`:void 0,{style:R,className:$,..._}=a||{};return i.createElement(i.Fragment,null,i.createElement("img",{ref:k,onLoad:M,onError:N,onClick:o,draggable:!1,className:ei(es(te()),j&&es(te("cover")),v!==O&&es(te("loading")),$),style:{...P,...u,...R},..._,alt:e.alt,sizes:D,srcSet:L,src:e.src}),v!==O&&i.createElement("div",{className:es(e8("placeholder"))},v===q&&((null==n?void 0:n.iconLoading)?n.iconLoading():i.createElement(eG,{className:ei(es(et),es(e8(q)))})),v===F&&((null==n?void 0:n.iconError)?n.iconError():i.createElement(eJ,{className:ei(es(et),es(e8(F)))}))))}function tn(e,t,n,r,l){i.useEffect(()=>l?()=>{}:em(e(Z,t),e(V,n),e(Y,r),e(G,r),e(J,r)),[e,t,n,r,l])}!function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL_DOWN=2]="PULL_DOWN",e[e.ANIMATION=3]="ANIMATION"}(r||(r={})),function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL_DOWN=2]="PULL_DOWN"}(l||(l={}));let tr="wheel";function tl(e){(Math.abs(e.deltaX)>Math.abs(e.deltaY)||e.ctrlKey)&&e.preventDefault()}let ta=ed("container"),ti=i.createContext(null),to=ef("useController","ControllerContext",ti),ts=eS(R,function({children:e,...t}){var n;let{carousel:a,animation:o,controller:s,on:u,styles:c,render:d}=t,[h,m]=i.useState(),f=eF(),p=ez(),[g,v]=i.useState(r.NONE),b=i.useRef(0),x=i.useRef(0),w=i.useRef(1),{registerSensors:y,subscribeSensors:E}=function(){let[e]=i.useState({}),t=i.useCallback((t,n)=>{var r;null==(r=e[t])||r.forEach(e=>{n.isPropagationStopped()||e(n)})},[e]);return{registerSensors:i.useMemo(()=>({onPointerDown:e=>t(Z,e),onPointerMove:e=>t(V,e),onPointerUp:e=>t(Y,e),onPointerLeave:e=>t(G,e),onPointerCancel:e=>t(J,e),onKeyDown:e=>t(Q,e),onKeyUp:e=>t("onKeyUp",e),onWheel:e=>t(ee,e)}),[t]),subscribeSensors:i.useCallback((t,n)=>(e[t]||(e[t]=[]),e[t].unshift(n),()=>{let r=e[t];r&&r.splice(0,r.length,...r.filter(e=>e!==n))}),[e])}}(),{subscribe:k,publish:M}=eD(),N=e5(),j=e5(),C=e5(),{containerRef:S,setContainerRef:I,containerRect:P}=e2(),L=e4(function(){let e=i.useRef(null);return i.useCallback(t=>{var n;t?t.addEventListener(tr,tl,{passive:!1}):null==(n=e.current)||n.removeEventListener(tr,tl),e.current=t},[])}(),I),D=i.useRef(null),R=e4(D,void 0),_=e6(),A=e=>(_?-1:1)*("number"==typeof e?e:1),q=e9(()=>{var e;return null==(e=S.current)?void 0:e.focus()}),F=e9(()=>t),O=e9(()=>f),z=i.useCallback(e=>M(H,e),[M]),W=i.useCallback(e=>M(K,e),[M]),U=i.useCallback(()=>M(B),[M]),et=e=>!(a.finite&&(A(e)>0&&0===f.currentIndex||0>A(e)&&f.currentIndex===f.slides.length-1)),en=e=>{var t;b.current=e,null==(t=S.current)||t.style.setProperty(eu("swipe_offset"),`${Math.round(e)}px`)},{closeOnPullDown:er}=s,el=e=>{var t,n;x.current=e,w.current=Math.min(Math.max(eg(1-e/60*.5,2),.5),1),null==(t=S.current)||t.style.setProperty(eu("pull_down_offset"),`${Math.round(e)}px`),null==(n=S.current)||n.style.setProperty(eu("pull_down_opacity"),`${w.current}`)},{prepareAnimation:ea}=e1(D,(e,t,n)=>{if(D.current&&P)return{keyframes:[{transform:`translate(0, ${e.rect.y-t.y+n.y}px)`,opacity:e.opacity},{transform:"translate(0, 0)",opacity:1}],duration:e.duration,easing:o.easing.fade}}),eo=(e,t)=>{if(er){el(e);let n=0;D.current&&(n=o.fade*(t?2:1),ea({rect:D.current.getBoundingClientRect(),opacity:w.current,duration:n})),C(()=>{el(0),v(r.NONE)},n),v(r.ANIMATION),t||U()}},{prepareAnimation:ec,isAnimationPlaying:ed}=e1(D,(e,t,n)=>{var r;if(D.current&&P&&(null==(r=f.animation)?void 0:r.duration)){let r=ew(a.spacing),l=(r.percent?r.percent*P.width/100:r.pixel)||0;return{keyframes:[{transform:`translate(${A(f.globalIndex-e.index)*(P.width+l)+e.rect.x-t.x+n.x}px, 0)`},{transform:"translate(0, 0)"}],duration:f.animation.duration,easing:f.animation.easing}}}),eh=e9(e=>{var t,n;let l=e.offset||0,a=l?o.swipe:null!=(t=o.navigation)?t:o.swipe,i=l||ed()?o.easing.swipe:o.easing.navigation,{direction:s}=e,u=null!=(n=e.count)?n:1,c=r.ANIMATION,d=a*u;if(!s){let t=null==P?void 0:P.width,n=e.duration||0,r=t?a/t*Math.abs(l):a;0!==u?(n<r?d=d/r*Math.max(n,r/5):t&&(d=a/t*(t-Math.abs(l))),s=A(l)>0?H:K):d=a/2}let h=0;s===H?et(A(1))?h=-u:(c=r.NONE,d=a):s===K&&(et(A(-1))?h=u:(c=r.NONE,d=a)),j(()=>{en(0),v(r.NONE)},d=Math.round(d)),D.current&&ec({rect:D.current.getBoundingClientRect(),index:f.globalIndex}),v(c),M(X,{type:"swipe",increment:h,duration:d,easing:i})});i.useEffect(()=>{var e,t;(null==(e=f.animation)?void 0:e.increment)&&(null==(t=f.animation)?void 0:t.duration)&&N(()=>p({type:"swipe",increment:0}),f.animation.duration)},[f.animation,p,N]);let ef=[E,et,(null==P?void 0:P.width)||0,o.swipe,()=>v(r.SWIPE),e=>en(e),(e,t)=>eh({offset:e,duration:t,count:1}),e=>eh({offset:e,count:0})],ep=[()=>{er&&v(r.PULL_DOWN)},e=>el(e),e=>eo(e),e=>eo(e,!0)];!function(e,t,n,r,a,o,s,u,c,d,h,m,f){let p=i.useRef(0),g=i.useRef([]),v=i.useRef(),b=i.useRef(0),x=i.useRef(l.NONE),w=i.useCallback(e=>{v.current===e.pointerId&&(v.current=void 0,x.current=l.NONE);let t=g.current;t.splice(0,t.length,...t.filter(t=>t.pointerId!==e.pointerId))},[]),y=i.useCallback(e=>{w(e),e.persist(),g.current.push(e)},[w]),E=e9(e=>{y(e)}),k=e9(e=>{if(g.current.find(t=>t.pointerId===e.pointerId)&&v.current===e.pointerId){let e=Date.now()-b.current,t=p.current;x.current===l.SWIPE?Math.abs(t)>.3*n||Math.abs(t)>5&&e<r?s(t,e):u(t):x.current===l.PULL_DOWN&&(t>60?m(t,e):f(t)),p.current=0,x.current=l.NONE}w(e)});tn(e,E,e9(e=>{let n=g.current.find(t=>t.pointerId===e.pointerId);if(n){let r=v.current===e.pointerId;if(0===e.buttons)return void(r&&0!==p.current?k(e):w(n));let i=e.clientX-n.clientX,s=e.clientY-n.clientY;if(void 0===v.current){let n=t=>{y(e),v.current=e.pointerId,b.current=Date.now(),x.current=t};Math.abs(i)>Math.abs(s)&&Math.abs(i)>30&&t(i)?(n(l.SWIPE),a()):c&&Math.abs(s)>Math.abs(i)&&s>30&&(n(l.PULL_DOWN),d())}else r&&(x.current===l.SWIPE?(p.current=i,o(i)):x.current===l.PULL_DOWN&&(p.current=s,h(s)))}}),k)}(...ef,er,...ep),function(e,t,n,l,a,o,s,u,c){let d=i.useRef(0),h=i.useRef(0),m=i.useRef(),f=i.useRef(),p=i.useRef(0),g=i.useRef(0),{setTimeout:v,clearTimeout:b}=eH(),x=i.useCallback(()=>{m.current&&(b(m.current),m.current=void 0)},[b]),w=i.useCallback(()=>{f.current&&(b(f.current),f.current=void 0)},[b]),y=e9(()=>{e!==r.SWIPE&&(d.current=0,g.current=0,x(),w())});i.useEffect(y,[e,y]);let E=e9(e=>{f.current=void 0,d.current===e&&c(d.current)}),k=e9(t=>{if(!t.ctrlKey&&!(Math.abs(t.deltaY)>Math.abs(t.deltaX)))if(e===r.NONE){if(Math.abs(t.deltaX)<=1.2*Math.abs(p.current)){p.current=t.deltaX;return}if(!n(-t.deltaX))return;if(h.current+=t.deltaX,x(),Math.abs(h.current)>30)h.current=0,p.current=0,g.current=Date.now(),o();else{let e=h.current;m.current=v(()=>{m.current=void 0,e===h.current&&(h.current=0)},a)}}else if(e===r.SWIPE){let e=d.current-t.deltaX;if(d.current=e=Math.min(Math.abs(e),l)*Math.sign(e),s(e),w(),Math.abs(e)>.2*l){p.current=t.deltaX,u(e,Date.now()-g.current);return}f.current=v(()=>E(e),2*a)}else p.current=t.deltaX});i.useEffect(()=>t(ee,k),[t,k])}(g,...ef);let ev=e9(()=>{s.focus&&document.querySelector(`.${es($)} .${es(ta())}`)&&q()});i.useEffect(ev,[ev]);let eb=e9(()=>{var e;null==(e=u.view)||e.call(u,{index:f.currentIndex})});i.useEffect(eb,[f.globalIndex,eb]),i.useEffect(()=>em(k(H,e=>eh({direction:H,...e})),k(K,e=>eh({direction:K,...e})),k(X,e=>p(e))),[k,eh,p]);let ex=i.useMemo(()=>({prev:z,next:W,close:U,focus:q,slideRect:P?function(e,t){let n=ew(t),r=void 0!==n.percent?e.width/100*n.percent:n.pixel;return{width:Math.max(e.width-2*r,0),height:Math.max(e.height-2*r,0)}}(P,a.padding):{width:0,height:0},containerRect:P||{width:0,height:0},subscribeSensors:E,containerRef:S,setCarouselRef:R,toolbarWidth:h,setToolbarWidth:m}),[z,W,U,q,E,P,S,R,h,m,a.padding]);return i.useImperativeHandle(s.ref,()=>({prev:z,next:W,close:U,focus:q,getLightboxProps:F,getLightboxState:O}),[z,W,U,q,F,O]),i.createElement("div",{ref:L,className:ei(es(ta()),es(T)),style:{...g===r.SWIPE?{[eu("swipe_offset")]:`${Math.round(b.current)}px`}:null,...g===r.PULL_DOWN?{[eu("pull_down_offset")]:`${Math.round(x.current)}px`,[eu("pull_down_opacity")]:`${w.current}`}:null,..."none"!==s.touchAction?{[eu("controller_touch_action")]:s.touchAction}:null,...c.container},...s.aria?{role:"presentation","aria-live":"polite"}:null,tabIndex:-1,...y},P&&i.createElement(ti.Provider,{value:ex},e,null==(n=d.controls)?void 0:n.call(d)))});function tu(e){return ec("slide",e)}function tc({slide:e,offset:t}){var n,r,l,a;let o,s=i.useRef(null),{currentIndex:u}=eF(),{slideRect:c,close:d}=to(),{render:h,carousel:{imageFit:m,imageProps:f},on:{click:p},controller:{closeOnBackdropClick:g},styles:{slide:v}}=e_();return i.createElement("div",{ref:s,className:ei(es(tu()),0===t&&es(tu("current")),es(T)),onClick:e=>{let t=s.current,n=e.target instanceof HTMLElement?e.target:void 0;g&&n&&t&&(n===t||Array.from(t.children).find(e=>e===n)&&n.classList.contains(es(U)))&&d()},style:v},(!(o=null==(n=h.slide)?void 0:n.call(h,{slide:e,offset:t,rect:c}))&&ev(e)&&(o=i.createElement(tt,{slide:e,offset:t,render:h,rect:c,imageFit:m,imageProps:f,onClick:0===t?()=>null==p?void 0:p({index:u}):void 0})),o?i.createElement(i.Fragment,null,null==(r=h.slideHeader)?void 0:r.call(h,{slide:e}),(null!=(l=h.slideContainer)?l:({children:e})=>e)({slide:e,children:o}),null==(a=h.slideFooter)?void 0:a.call(h,{slide:e})):null))}function td(){let e=e_().styles.slide;return i.createElement("div",{className:es("slide"),style:e})}let th=eS(D,function({carousel:e}){let{slides:t,currentIndex:n,globalIndex:r}=eF(),{setCarouselRef:l}=to(),a=ew(e.spacing),o=ew(e.padding),s=[],u=function(e,t,n=0){return Math.min(e.preload,Math.max(e.finite?t.length-1:Math.floor(t.length/2),n))}(e,t,1);if(ek(t)){for(let l=n-u;l<n;l+=1){let a=r+l-n;s.push(!e.finite||l>=0?i.createElement(tc,{key:a,slide:t[(l+u*t.length)%t.length],offset:l-n}):i.createElement(td,{key:a}))}s.push(i.createElement(tc,{key:r,slide:t[n],offset:0}));for(let l=n+1;l<=n+u;l+=1){let a=r+l-n;s.push(!e.finite||l<=t.length-1?i.createElement(tc,{key:a,slide:t[l%t.length],offset:l-n}):i.createElement(td,{key:a}))}}return i.createElement("div",{ref:l,className:ei(es(ec(D,void 0)),s.length>0&&es(ec(D,"with_slides"))),style:{[`${eu(ec(D,"slides_count"))}`]:s.length,[`${eu(ec(D,"spacing_px"))}`]:a.pixel||0,[`${eu(ec(D,"spacing_percent"))}`]:a.percent||0,[`${eu(ec(D,"padding_px"))}`]:o.pixel||0,[`${eu(ec(D,"padding_percent"))}`]:o.percent||0}},s)});function tm(){let{carousel:e}=e_(),{slides:t,currentIndex:n}=eF();return{prevDisabled:0===t.length||e.finite&&0===n,nextDisabled:0===t.length||e.finite&&n===t.length-1}}function tf({label:e,icon:t,renderIcon:n,action:r,onClick:l,disabled:a,style:o}){return i.createElement(eX,{label:e,icon:t,renderIcon:n,className:es(`navigation_${r}`),disabled:a,onClick:l,style:o,...function(e,t=!1){let n=i.useRef();return eQ(()=>{t&&n.current&&(n.current=!1,e())},[t,e]),{onFocus:i.useCallback(()=>{n.current=!0},[]),onBlur:i.useCallback(()=>{n.current=!1},[])}}(to().focus,a)})}let tp=eS("navigation",function({render:{buttonPrev:e,buttonNext:t,iconPrev:n,iconNext:r},styles:l}){let{prev:a,next:o,subscribeSensors:s}=to(),{prevDisabled:u,nextDisabled:c}=tm();return!function(e){var t;let n=e6(),{publish:r}=eD(),{animation:l}=e_(),{prevDisabled:a,nextDisabled:o}=tm(),s=(null!=(t=l.navigation)?t:l.swipe)/2,u=e7(()=>r(H),s),c=e7(()=>r(K),s),d=e9(e=>{switch(e.key){case"Escape":r(B);break;case"ArrowLeft":(n?o:a)||(n?c:u)();break;case"ArrowRight":(n?a:o)||(n?u:c)()}});i.useEffect(()=>e(Q,d),[e,d])}(s),i.createElement(i.Fragment,null,e?e():i.createElement(tf,{label:"Previous",action:H,icon:eV,renderIcon:n,style:l.navigationPrev,disabled:u,onClick:a}),t?t():i.createElement(tf,{label:"Next",action:K,icon:eY,renderIcon:r,style:l.navigationNext,disabled:c,onClick:o}))}),tg=es("no_scroll"),tv=es(W);function tb(e,t,n){let r=window.getComputedStyle(e),l=n?"padding-left":"padding-right",a=n?r.paddingLeft:r.paddingRight,i=e.style.getPropertyValue(l);return e.style.setProperty(l,`${(ex(a)||0)+t}px`),()=>{i?e.style.setProperty(l,i):e.style.removeProperty(l)}}let tx=eS("no-scroll",function({noScroll:{disabled:e},children:t}){let n=e6();return eQ(()=>{if(e)return()=>{};let t=[],{body:r,documentElement:l}=document,a=Math.round(window.innerWidth-l.clientWidth);if(a>0){t.push(tb(r,a,n));let e=r.getElementsByTagName("*");for(let r=0;r<e.length;r+=1){let l=e[r];"style"in l&&"fixed"===window.getComputedStyle(l).getPropertyValue("position")&&!l.classList.contains(tv)&&t.push(tb(l,a,n))}}return r.classList.add(tg),()=>{r.classList.remove(tg),t.forEach(e=>e())}},[n,e]),i.createElement(i.Fragment,null,t)});function tw(e,t,n){let r=e.getAttribute(t);return e.setAttribute(t,n),()=>{r?e.setAttribute(t,r):e.removeAttribute(t)}}let ty=eS($,function({children:e,animation:t,styles:n,className:r,on:l,portal:a,close:o}){let[s,u]=i.useState(!1),[c,d]=i.useState(!1),h=i.useRef([]),m=i.useRef(null),{setTimeout:f}=eH(),{subscribe:p}=eD(),g=e0()?0:t.fade;i.useEffect(()=>(u(!0),()=>{u(!1),d(!1)}),[]);let v=e9(()=>{h.current.forEach(e=>e()),h.current=[]}),b=e9(()=>{var e;d(!1),v(),null==(e=l.exiting)||e.call(l),f(()=>{var e;null==(e=l.exited)||e.call(l),o()},g)});i.useEffect(()=>p(B,b),[p,b]);let x=e9(e=>{var t,n,r;e.scrollTop,d(!0),null==(t=l.entering)||t.call(l);let a=null!=(r=null==(n=e.parentNode)?void 0:n.children)?r:[];for(let t=0;t<a.length;t+=1){let n=a[t];-1===["TEMPLATE","SCRIPT","STYLE"].indexOf(n.tagName)&&n!==e&&(h.current.push(tw(n,"inert","true")),h.current.push(tw(n,"aria-hidden","true")))}h.current.push(()=>{var e,t;null==(t=null==(e=m.current)?void 0:e.focus)||t.call(e)}),f(()=>{var e;null==(e=l.entered)||e.call(l)},g)}),w=i.useCallback(e=>{e?x(e):v()},[x,v]);return s?(0,ea.createPortal)(i.createElement("div",{ref:w,className:ei(r,es("root"),es(ec($,void 0)),es(W),c&&es(ec($,"open"))),role:"presentation","aria-live":"polite",style:{...t.fade!==eC.animation.fade?{[eu("fade_animation_duration")]:`${g}ms`}:null,...t.easing.fade!==eC.animation.easing.fade?{[eu("fade_animation_timing_function")]:t.easing.fade}:null,...n.root},onFocus:e=>{m.current||(m.current=e.relatedTarget)}},e),a.root||document.body):null}),tE=eS("root",function({children:e}){return i.createElement(i.Fragment,null,e)}),tk=eS(_,function({toolbar:{buttons:e},render:{buttonClose:t,iconClose:n},styles:r}){let{close:l,setToolbarWidth:a}=to(),{setContainerRef:o,containerRect:s}=e2();eQ(()=>{a(null==s?void 0:s.width)},[a,null==s?void 0:s.width]);let u=()=>t?t():i.createElement(eX,{key:B,label:"Close",icon:eZ,renderIcon:n,onClick:l});return i.createElement("div",{ref:o,style:r.toolbar,className:es(ec(_,void 0))},null==e?void 0:e.map(e=>e===B?u():e))});function tM({carousel:e,animation:t,render:n,toolbar:r,controller:l,noScroll:a,on:o,plugins:s,slides:u,index:c,...d}){let{animation:h,carousel:m,render:f,toolbar:p,controller:g,noScroll:v,on:b,slides:x,index:w,plugins:y,...E}=eC,{config:k,augmentation:M}=function(e,t=[],n=[]){let r=e,l=e=>{let t=[...r];for(;t.length>0;){let n=t.pop();if((null==n?void 0:n.module.name)===e)return!0;(null==n?void 0:n.children)&&t.push(...n.children)}return!1},a=(e,t)=>{if(""===e){r=[eI(t,r)];return}r=eP(r,e,e=>[eI(t,[e])])},i=(e,t)=>{r=eP(r,e,e=>[eI(e.module,[eI(t,e.children)])])},o=(e,t,n)=>{r=eP(r,e,e=>{var r;return[eI(e.module,[...n?[eI(t)]:[],...null!=(r=e.children)?r:[],...n?[]:[eI(t)]])]})},s=(e,t,n)=>{r=eP(r,e,e=>[...n?[eI(t)]:[],e,...n?[]:[eI(t)]])},u=e=>{i(R,e)},c=(e,t)=>{r=eP(r,e,e=>[eI(t,e.children)])},d=e=>{r=eP(r,e,e=>e.children)},h=e=>{n.push(e)};return t.forEach(e=>{e({contains:l,addParent:a,append:i,addChild:o,addSibling:s,addModule:u,replace:c,remove:d,augment:h})}),{config:r,augmentation:e=>n.reduce((e,t)=>t(e),e)}}([eI(ty,[eI(tx,[eI(ts,[eI(th),eI(tk),eI(tp)])])])],s||y),N=M({animation:function(e,t={}){let{easing:n,...r}=e,{easing:l,...a}=t;return{easing:{...n,...l},...r,...a}}(h,t),carousel:{...m,...e},render:{...f,...n},toolbar:{...p,...r},controller:{...g,...l},noScroll:{...v,...a},on:{...b,...o},...E,...d});return N.open?i.createElement(eA,{...N},i.createElement(eW,{slides:u||x,index:ex(c||w)},i.createElement(eK,null,i.createElement(eR,null,function e(t,n){var r;return i.createElement(t.module.component,{key:t.module.name,...n},null==(r=t.children)?void 0:r.map(t=>e(t,n)))}(eI(tE,k),N))))):null}let tN={download:void 0},tj=e=>({...tN,...e});function tC(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){let t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}function tS(e,t){let n=document.createElement("a");if(n.rel="noopener",n.download=t||"",n.download||(n.target="_blank"),"string"==typeof e)if(n.href=e,n.origin!==window.location.origin)if(function(e){let t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return t.status>=200&&t.status<=299}(n.href)){let n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=()=>{tS(n.response,t)},n.onerror=()=>{console.error("Failed to download file")},n.send()}else n.target="_blank",tC(n);else tC(n);else n.href=URL.createObjectURL(e),setTimeout(()=>URL.revokeObjectURL(n.href),3e4),setTimeout(()=>tC(n),0)}let tI=eB("DownloadIcon",i.createElement("path",{d:"M18 15v3H6v-3H4v3c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-3h-2zm-1-4-1.41-1.41L13 12.17V4h-2v8.17L8.41 9.59 7 11l5 5 5-5z"}));function tP(){let{render:e,on:t,download:n}=e_(),{download:r}=tj(n),{currentSlide:l,currentIndex:a}=eF();if(e.buttonDownload)return i.createElement(i.Fragment,null,e.buttonDownload());let o=l&&(l.downloadUrl||"string"==typeof l.download&&l.download||"object"==typeof l.download&&l.download.url||ev(l)&&l.src)||void 0,s=r?(null==l?void 0:l.download)!==!1:!!o,u=()=>{l&&o&&tS(o,l.downloadFilename||"object"==typeof l.download&&l.download.filename||void 0)};return i.createElement(eX,{label:"Download",icon:tI,renderIcon:e.iconDownload,disabled:!s,onClick:()=>{var e;l&&((r||u)({slide:l,saveAs:tS}),null==(e=t.download)||e.call(t,{index:a}))}})}function tL({augment:e}){e(({toolbar:e,download:t,...n})=>({toolbar:ej(e,"download",i.createElement(tP,null)),download:tj(t),...n}))}let tD={maxZoomPixelRatio:1,zoomInMultiplier:2,doubleTapDelay:300,doubleClickDelay:500,doubleClickMaxStops:2,keyboardMoveDistance:50,wheelZoomDistanceFactor:100,pinchZoomDistanceFactor:100,scrollToZoom:!1},tR=e=>({...tD,...e});function t$(){let{zoom:e}=e_();return tR(e)}function t_(e,t){return((e.clientX-t.clientX)**2+(e.clientY-t.clientY)**2)**.5}let tA=i.createContext(null),tq=ef("useZoom","ZoomControllerContext",tA);function tF({children:e}){let[t,n]=i.useState(),{slideRect:r}=to(),{imageRect:l,maxZoom:a}=function(e,t){var n,r;let l={width:0,height:0},a={width:0,height:0},{slides:i,currentIndex:o}=eF(),{imageFit:s}=e_().carousel,{maxZoomPixelRatio:u}=t$();if(e&&o<i.length){let c={...i[o],...t};if(ev(c)){let t=eb(c,s),i=Math.max(...((null==(n=c.srcSet)?void 0:n.map(e=>e.width))||[]).concat(c.width?[c.width]:[])),o=Math.max(...((null==(r=c.srcSet)?void 0:r.map(e=>e.height))||[]).concat(c.height?[c.height]:[]));i>0&&o>0&&e.width>0&&e.height>0&&(a={width:(a=t?{width:Math.round(Math.min(i,e.width/e.height*o)),height:Math.round(Math.min(o,e.height/e.width*i))}:{width:i,height:o}).width*u,height:a.height*u},l=t?{width:Math.min(e.width,a.width,i),height:Math.min(e.height,a.height,o)}:{width:Math.round(Math.min(e.width,e.height/o*i,i)),height:Math.round(Math.min(e.height,e.width/i*o,o))})}}let c=l.width?Math.max(eg(a.width/l.width,5),1):1;return{imageRect:l,maxZoom:c}}(r,null==t?void 0:t.imageDimensions),{zoom:o,offsetX:s,offsetY:u,disabled:c,changeZoom:d,changeOffsets:h,zoomIn:m,zoomOut:f}=function(e,t,n){let[r,l]=i.useState(1),[a,o]=i.useState(0),[s,u]=i.useState(0),c=function(e,t,n,r){let l=i.useRef(),a=i.useRef(),{zoom:o}=e_().animation,s=e0(),u=e9(()=>{var i,u,c;if(null==(i=l.current)||i.cancel(),l.current=void 0,a.current&&(null==r?void 0:r.current)){try{l.current=null==(c=(u=r.current).animate)?void 0:c.call(u,[{transform:a.current},{transform:`scale(${e}) translateX(${t}px) translateY(${n}px)`}],{duration:s?0:null!=o?o:500,easing:l.current?"ease-out":"ease-in-out"})}catch(e){console.error(e)}a.current=void 0,l.current&&(l.current.onfinish=()=>{l.current=void 0})}});return eQ(u,[e,t,n,u]),i.useCallback(()=>{a.current=(null==r?void 0:r.current)?window.getComputedStyle(r.current).transform:void 0},[r])}(r,a,s,n),{slides:d,currentIndex:h,globalIndex:m}=eF(),{containerRect:f,slideRect:p}=to(),{zoomInMultiplier:g}=t$(),v=function(e,t){if(t<e.length){let n=e[t];if(ev(n))return n.src}}(d,h),b=!v||!(null==n?void 0:n.current);eQ(()=>{l(1),o(0),u(0)},[m,v]);let x=i.useCallback((t,n,l)=>{let i=l||r,c=a-(t||0),d=s-(n||0),h=(e.width*i-p.width)/2/i,m=(e.height*i-p.height)/2/i;o(Math.min(Math.abs(c),Math.max(h,0))*Math.sign(c)),u(Math.min(Math.abs(d),Math.max(m,0))*Math.sign(d))},[r,a,s,p,e.width,e.height]),w=i.useCallback((e,n,a,i)=>{let o=eg(Math.min(Math.max(e+.001<t?e:t,1),t),5);o!==r&&(n||c(),x(a?a*(1/r-1/o):0,i?i*(1/r-1/o):0,o),l(o))},[r,t,x,c]),y=e9(()=>{r>1&&(r>t&&w(t,!0),x())});eQ(y,[f.width,f.height,y]);let E=i.useCallback(()=>w(r*g),[r,g,w]),k=i.useCallback(()=>w(r/g),[r,g,w]);return{zoom:r,offsetX:a,offsetY:s,disabled:b,changeOffsets:x,changeZoom:w,zoomIn:E,zoomOut:k}}(l,a,null==t?void 0:t.zoomWrapperRef),{on:p}=e_(),g=e9(()=>{var e;c||null==(e=p.zoom)||e.call(p,{zoom:o})});i.useEffect(g,[o,g]),function(e,t,n,r,l,a){let o=i.useRef([]),s=i.useRef(0),u=i.useRef(),{globalIndex:c}=eF(),{containerRef:d,subscribeSensors:h}=to(),{keyboardMoveDistance:m,zoomInMultiplier:f,wheelZoomDistanceFactor:p,scrollToZoom:g,doubleTapDelay:v,doubleClickDelay:b,doubleClickMaxStops:x,pinchZoomDistanceFactor:w}=t$(),y=i.useCallback(e=>{if(d.current){let{pageX:t,pageY:n}=e,{scrollX:r,scrollY:l}=window,{left:a,top:i,width:o,height:s}=d.current.getBoundingClientRect();return[t-a-r-o/2,n-i-l-s/2]}return[]},[d]),E=e9(t=>{let n=()=>{t.preventDefault(),t.stopPropagation()};if(e>1){let e=(e,t)=>{n(),l(e,t)};"ArrowDown"===t.key?e(0,m):"ArrowUp"===t.key?e(0,-m):"ArrowLeft"===t.key?e(-m,0):"ArrowRight"===t.key&&e(m,0)}let a=e=>{n(),r(e)},i=()=>t.getModifierState("Meta");"+"===t.key||"="===t.key&&i()?a(e*f):"-"===t.key||"_"===t.key&&i()?a(e/f):"0"===t.key&&i()&&a(1)}),k=e9(t=>{if((t.ctrlKey||g)&&Math.abs(t.deltaY)>Math.abs(t.deltaX)){t.stopPropagation(),r(e*(1-t.deltaY/p),!0,...y(t));return}e>1&&(t.stopPropagation(),g||l(t.deltaX,t.deltaY))}),M=i.useCallback(e=>{let t=o.current;t.splice(0,t.length,...t.filter(t=>t.pointerId!==e.pointerId))},[]),N=i.useCallback(e=>{M(e),e.persist(),o.current.push(e)},[M]),j=e9(n=>{var l;let i=o.current;if(!(null==(l=null==a?void 0:a.current)?void 0:l.contains(n.target)))return;e>1&&n.stopPropagation();let{timeStamp:c}=n;0===i.length&&c-s.current<("touch"===n.pointerType?v:b)?(s.current=0,r(e!==t?e*Math.max(t**(1/x),f):1,!1,...y(n))):s.current=c,N(n),2===i.length&&(u.current=t_(i[0],i[1]))}),C=e9(t=>{let n=o.current,a=n.find(e=>e.pointerId===t.pointerId);if(2===n.length&&u.current){t.stopPropagation(),N(t);let l=t_(n[0],n[1]),a=l-u.current;Math.abs(a)>0&&(r(e*(1+a/w),!0,...n.map(e=>y(e)).reduce((e,t)=>t.map((t,n)=>e[n]+t/2))),u.current=l);return}e>1&&(t.stopPropagation(),a&&(1===n.length&&l((a.clientX-t.clientX)/e,(a.clientY-t.clientY)/e),N(t)))}),S=i.useCallback(e=>{let t=o.current;2===t.length&&t.find(t=>t.pointerId===e.pointerId)&&(u.current=void 0),M(e)},[M]),I=i.useCallback(()=>{let e=o.current;e.splice(0,e.length),s.current=0,u.current=void 0},[]);tn(h,j,C,S,n),i.useEffect(I,[c,I]),i.useEffect(()=>n?()=>{}:em(I,h(Q,E),h(ee,k)),[n,h,I,E,k])}(o,a,c,d,h,null==t?void 0:t.zoomWrapperRef);let v=i.useMemo(()=>({zoom:o,maxZoom:a,offsetX:s,offsetY:u,disabled:c,zoomIn:m,zoomOut:f,changeZoom:d}),[o,a,s,u,c,m,f,d]);i.useImperativeHandle(t$().ref,()=>v,[v]);let b=i.useMemo(()=>({...v,setZoomWrapper:n}),[v,n]);return i.createElement(tA.Provider,{value:b},e)}let tO=eB("ZoomIn",i.createElement(i.Fragment,null,i.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),i.createElement("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"}))),tz=eB("ZoomOut",i.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"})),tT=i.forwardRef(function({zoomIn:e,onLoseFocus:t},n){let r=i.useRef(!1),l=i.useRef(!1),{zoom:a,maxZoom:o,zoomIn:s,zoomOut:u,disabled:c}=tq(),{render:d}=e_(),h=c||(e?a>=o:a<=1);return i.useEffect(()=>{h&&r.current&&l.current&&t(),h||(r.current=!0)},[h,t]),i.createElement(eX,{ref:n,disabled:h,label:e?"Zoom in":"Zoom out",icon:e?tO:tz,renderIcon:e?d.iconZoomIn:d.iconZoomOut,onClick:e?s:u,onFocus:()=>{l.current=!0},onBlur:()=>{l.current=!1}})});function tW(){let e=i.useRef(null),t=i.useRef(null),{focus:n}=to(),r=i.useCallback(e=>{var t,r;(null==(t=e.current)?void 0:t.disabled)?n():null==(r=e.current)||r.focus()},[n]),l=i.useCallback(()=>r(e),[r]),a=i.useCallback(()=>r(t),[r]);return i.createElement(i.Fragment,null,i.createElement(tT,{zoomIn:!0,ref:e,onLoseFocus:a}),i.createElement(tT,{ref:t,onLoseFocus:l}))}function tU(){let{render:e}=e_(),t=tq();return e.buttonZoom?i.createElement(i.Fragment,null,e.buttonZoom(t)):i.createElement(tW,null)}function tH({current:e,preload:t},{type:n,source:r}){switch(n){case"fetch":if(!e)return{current:r};return{current:e,preload:r};case"done":if(r===t)return{current:r};return{current:e,preload:t};default:throw Error(el)}}function tK(e){var t,n;let[{current:r,preload:l},a]=i.useReducer(tH,{}),{slide:o,rect:s,imageFit:u,render:c}=e,d=o.srcSet.sort((e,t)=>e.width-t.width),h=null!=(t=o.width)?t:d[d.length-1].width,m=null!=(n=o.height)?n:d[d.length-1].height,f=eb(o,u),p=Math.max(...d.map(e=>e.width)),g=Math.min((f?Math.max:Math.min)(s.width,h*(s.height/m)),p),v=ey(),b=e9(()=>{var e;let t=null!=(e=d.find(e=>e.width>=g*v))?e:d[d.length-1];(!r||d.findIndex(e=>e.src===r)<d.findIndex(e=>e===t))&&a({type:"fetch",source:t.src})});eQ(b,[s.width,s.height,v,b]);let x=e9(e=>a({type:"done",source:e})),w={WebkitTransform:"translateZ(0)"};return f||Object.assign(w,s.width/s.height<h/m?{width:"100%",height:"auto"}:{width:"auto",height:"100%"}),i.createElement(i.Fragment,null,l&&l!==r&&i.createElement(tt,{key:"preload",...e,slide:{...o,src:l,srcSet:void 0},style:{position:"absolute",visibility:"hidden",...w},onLoad:()=>x(l),render:{...c,iconLoading:()=>null,iconError:()=>null}}),r&&i.createElement(tt,{key:"current",...e,slide:{...o,src:r,srcSet:void 0},style:w}))}function tX({render:e,slide:t,offset:n,rect:r}){var l,a;let[o,s]=i.useState(),u=i.useRef(null),{zoom:c,maxZoom:d,offsetX:h,offsetY:m,setZoomWrapper:f}=tq(),{carousel:p,on:g}=e_(),{currentIndex:v}=eF();eQ(()=>0===n?(f({zoomWrapperRef:u,imageDimensions:o}),()=>f(void 0)):()=>{},[n,o,f]);let b=null==(l=e.slide)?void 0:l.call(e,{slide:t,offset:n,rect:r,zoom:c,maxZoom:d});if(!b&&ev(t)){let l={slide:t,offset:n,rect:r,render:e,imageFit:p.imageFit,imageProps:p.imageProps,onClick:0===n?()=>{var e;return null==(e=g.click)?void 0:e.call(g,{index:v})}:void 0};b=((null==(a=t.srcSet)?void 0:a.length)||0)>0?i.createElement(tK,{key:t.src,...l,slide:t,rect:0===n?{width:r.width*c,height:r.height*c}:r}):i.createElement(tt,{key:t.src,onLoad:e=>s({width:e.naturalWidth,height:e.naturalHeight}),...l})}return b?i.createElement("div",{ref:u,className:ei(es("fullsize"),es(T),es(U)),style:0===n?{transform:`scale(${c}) translateX(${h}px) translateY(${m}px)`}:void 0},b):null}let tB=({augment:e,addModule:t})=>{e(({toolbar:e,render:t,zoom:n,...r})=>({zoom:tR(n),toolbar:ej(e,A,i.createElement(tU,null)),render:{...t,slide:e=>{var n;return ev(e.slide)?i.createElement(tX,{render:t,...e}):null==(n=t.slide)?void 0:n.call(t,e)}},...r})),t(eS(A,tF))};function tZ({img_obj:e,className:t}){let n=`https://${h.A.getValue("imageDeliveryHost")}/public`,r=`${n}/${e.id}-${e.filename}`.replaceAll(" ","%20"),[l,s]=(0,i.useState)();return l?(0,a.jsx)("picture",{children:(0,a.jsx)("img",{src:l,className:t,loading:"lazy",alt:r})}):(0,a.jsx)(o.fs,{role:"loading",children:(0,a.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}n(85129);let tV=(0,s.D)({authMode:"apiKey"}),tY=(0,s.D)({authMode:"userPool"}),tG=[0,350,750,1200];function tJ({setFeaturedImg:e,selectedAlbum:t,editMode:n=!1,signedIn:r=!1}){let l=h.A.getValue("imageDeliveryHost"),s=(0,i.useRef)(!1),[u,d]=(0,i.useState)(!1),[m,f]=(0,i.useState)(0),[p,g]=(0,i.useState)([]),[v,b]=(0,i.useState)(-1),[x,w]=(0,i.useState)(!1),y=(0,i.useCallback)(async()=>{if(!s.current&&null!==v){w(!0),s.current=!0;try{let e={albumsID:t.id,limit:4};-1!==v&&(e.nextToken=v);let n=await tV.graphql({query:P.LS,variables:e});if(!n||!n.data){console.error("Error fetching data",n),w(!1);return}let r=n.data.imagesByAlbumsID.items.map((e,t)=>(e.index=t,e));g(e=>[...e,...r]),b(n.data.imagesByAlbumsID.nextToken)}catch(e){console.error("Error fetching data",e)}finally{w(!1),s.current=!1;return}}},[v,t.id]);async function E(e){let t=p.filter(t=>t.id!==e.id);await I({key:`${e.id}-${e.filename}`}),await tY.graphql({query:c.KK,variables:{input:{id:e.id}}}),console.log(`image with ID ${e.id} is deleted from album`),g(t)}if(0===p.length&&null!==v)return;if(0===p.length&&null===v)return(0,a.jsx)("div",{className:"text-center",children:"No images found for this album"});let k=p.map(e=>{let t=`${e.id}-${e.filename}`.replaceAll(" ","%20");return{src:`https://${l}/public/${e.id}-${e.filename}`,alt:e.filename,downloadUrl:`https://${l}/public/${t}`,width:e.width,height:e.height}});function M(e){if(E&&n)return(0,a.jsx)(o.al,{floating:!0,className:"position-absolute top-0 end-0 btn-light m-1",onClick:()=>{var t;e.image},color:"text-dark","data-mdb-toggle":"tooltip",title:"Delete photo",children:(0,a.jsx)(o.$u,{fas:!0,icon:"times text-dark",size:"2x"})})}function N(r){if(e&&n)return t.albumsFeaturedImageId&&r.image.id===t.albumsFeaturedImageId?(0,a.jsx)(o.al,{floating:!0,className:"position-absolute bottom-0 end-0 btn-light m-1",title:"Set Featured",disabled:!0,MDBColor:"text-dark","data-mdb-toggle":"tooltip",children:(0,a.jsx)(o.$u,{fas:!0,icon:"star text-dark",size:"2x"})}):(0,a.jsx)(o.al,{floating:!0,className:"position-absolute bottom-0 end-0 btn-light m-1",onClick:()=>e(r),MDBColor:"text-dark","data-mdb-toggle":"tooltip",title:"Set Featured",children:(0,a.jsx)(o.$u,{far:!0,icon:"star text-dark",size:"2x"})})}let j=p.map((e,t)=>(0,a.jsx)("div",{className:"m-0 p-1",children:(0,a.jsxs)("div",{className:"bg-image hover-overlay position-relative",children:[(0,a.jsx)(tZ,{img_obj:e,className:"img-fluid shadow-4",alt:e.filename}),(0,a.jsx)("a",{type:"button",children:(0,a.jsx)("div",{className:"mask overlay",onClick:()=>(d(!0),f(e.index)),style:{backgroundColor:"rgba(0, 0, 0, 0.2)"}})}),(0,a.jsx)(M,{image:e}),(0,a.jsx)(N,{image:e})]})},t));return(0,a.jsxs)("div",{className:"d-flex photo-album",children:[(0,a.jsx)(L.A,{items:j,breakpoints:tG,loadNextItems:y,isLoading:x,setIsLoading:w}),(0,a.jsx)(tM,{index:m,slides:k,close:()=>d(!1),open:u,controller:{closeonBackDropClick:!0},styles:{container:{backgroundColor:"rgba(0, 0, 0, .5)"}},plugins:r?[tL,tB]:[tB],on:{view:({index:e})=>f(e)},zoom:{maxZoomPixelRatio:1},render:{iconZoomIn:()=>{},iconZoomOut:()=>{}}})]})}var tQ=n(16189),t0=n(87632),t1=n(35921),t2=n(37270);let t5=(0,s.D)({authMode:"userPool"}),t9=(0,s.D)({authMode:"apiKey"});function t3({album_url:e,setEditMode:t}){let[n,r]=(0,i.useState)([]),[l,s]=(0,i.useState)(!1),[u,h]=(0,i.useState)(!1),[m,f]=(0,i.useState)([]),[p,g]=(0,i.useState)(!1),[v,b]=(0,i.useState)([]),[x,w]=(0,i.useState)(0),y=(0,tQ.useRouter)(),[E,k]=(0,i.useState)(null);async function M(e){r(e.target.files)}async function N(e){if(e.preventDefault(),h(!0),l)return void h(!1);try{let r=new FormData(e.target),l=r.get("date")+"T00:00:00.000Z",a={id:E.id,title:r.get("title"),desc:r.get("desc"),date:l},i=(await t5.graphql({query:c.AP,variables:{input:a}})).data.updateAlbums;try{await t5.graphql({query:c.Pi,variables:{input:{id:(0,d.sL)(E)}}})}catch(e){console.warn("Failed to delete old url object during update. Continuing...",e)}try{await t5.graphql({query:c.cO,variables:{input:{id:(0,d.sL)(i),urlAlbumId:i.id}}})}catch(e){console.error("New url object not created during update. This might be critical.",e)}n.length>0&&await (0,t2.A)(i,n,w),console.log(`Successfully updated album: ${r.get("title")}`),t(!1)}catch(e){console.error("Error updating album:",e)}finally{h(!1)}}async function j(e){e.preventDefault(),t(!1),y.push(`/albums/${(0,d.sL)(E)}`)}async function C(e){if(s(!0),!window.confirm("Are you sure you want to delete this album?"))return;let t=await t9.graphql({query:P.LS,variables:{albumsID:e}}),n=await t9.graphql({query:P.Zt,variables:{id:e}});t.data.imagesByAlbumsID.items.map(async e=>{await I({key:`${e.id}-${e.filename}`}),await t5.graphql({query:c.KK,variables:{input:{id:e.id}}})}),await t5.graphql({query:c.yd,variables:{input:{id:e}}});let r=(0,d.sL)(n.data.getAlbums);await t5.graphql({query:c.Pi,variables:{input:{id:r}}}),console.log("album successfully deleted"),y.push("/")}async function S(){f(await (0,t1.Mp)())}async function L(e){for(let t=0;t<m.length;t++)if(m[t].title.toUpperCase()===e.toUpperCase())return void alert("Cannot create duplicate tags!");await t5.graphql({query:c.J_,variables:{input:{title:e,privacy:"public"}}}),S()}async function D(e){let t={albumsId:E.id,albumTagsId:e.id};await t5.graphql({query:c.fF,variables:{input:t}})}async function R(e){let t={id:E.albumtagss.items[v[e.id]].id};await t5.graphql({query:c.cD,variables:{input:t}})}if(!E)return(0,a.jsx)(o.fs,{className:"m-3"});let $=new Date(E.date),_=$.getDate(),A=_<10?"0".concat(_):String(_),q=$.getMonth()+1,F=q<10?"0".concat(q):String(q),O=String($.getFullYear()).concat("-",F,"-",A);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("form",{onSubmit:N,children:[(0,a.jsxs)(o.gU,{className:"p-2 d-flex justify-content-center",children:[(0,a.jsxs)(o.m6,{xl:"3",lg:"5",md:"6",children:[(0,a.jsx)(o.gk,{className:"mb-3",label:"Title",name:"title",type:"text",defaultValue:E.title}),(0,a.jsx)(o.gk,{className:"mb-3",label:"Date",name:"date",type:"date",defaultValue:O})]}),(0,a.jsxs)(o.m6,{xl:"3",lg:"5",md:"6",children:[(0,a.jsx)(o.SM,{className:"mb-3",label:"Description",name:"desc",type:"text",rows:3,defaultValue:E.desc}),(0,a.jsx)(o.C,{id:"file_upload",multiple:!0,onChange:M,className:"flex-grow-1"})]})]}),(0,a.jsx)(o.gU,{className:"d-flex justify-content-center align-items-center",children:(0,a.jsxs)(o.m6,{className:"d-flex justify-content-center",lg:"5",children:[(0,a.jsx)(o.al,{className:"m-1",title:"Delete Album",onClick:()=>C(E.id),color:"dark","data-mdb-toggle":"tooltip",children:"Delete Album"}),(0,a.jsx)(o.al,{type:"submit",className:"bg-dark m-1",children:"Save"}),(0,a.jsx)(o.al,{className:"bg-dark m-1",onClick:j,children:"Cancel"})]})}),u?(0,a.jsx)(function(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.fs,{className:"mt-3"}),n.length>0?(0,a.jsxs)("p",{className:"fw-light",children:["Saving album and uploading image ",x," of ",n.length]}):(0,a.jsx)("p",{className:"fw-light",children:"Saving album"})]})},{}):(0,a.jsx)(a.Fragment,{})]}),(0,a.jsx)(o.gU,{className:"pt-2 d-flex justify-content-center align-items-center",children:(0,a.jsxs)(o.m6,{className:"d-flex justify-content-center flex-wrap",lg:"5",children:[m.map((e,t)=>(0,a.jsx)(t0.A,{selected:e.id in v,name:e.title,onSelect:()=>D(m[t]),onDeselect:()=>R(m[t])},t)),(0,a.jsx)("div",{className:"m-1",style:{minWidth:"60px"},children:(0,a.jsx)(o.gk,{label:"New Tag (press enter to create)",id:"newTag",type:"text",className:"rounded",size:"sm",onKeyDown:e=>{"Enter"===e.key&&(console.log(`enter key pressed, tag name is ${e.target.value}`),L(e.target.value),e.target.value="")}})})]})})]})}let t4=(0,s.D)({authMode:"userPool"});function t6({album_url:e}){let[t,n]=(0,i.useState)(null),[r,l]=(0,i.useState)(!1),[s,m]=(0,i.useState)(!1),[f,p]=(0,i.useState)(!1),g=(0,u.A)(e=>[e.authStatus.authStatus]);async function v(e){let r={id:t.id,albumsFeaturedImageId:e.image.id};n((await t4.graphql({query:c.AP,variables:{input:r}})).data.updateAlbums)}if(!t)return(0,a.jsx)("div",{className:"d-flex align-items-end",style:{height:"400px"},children:(0,a.jsx)("div",{style:{background:"linear-gradient(to bottom, hsla(0, 0%, 0%, 0) 20%, hsla(0, 0%, 0%, 0.5))",width:"100%"},className:"d-flex align-items-end",children:(0,a.jsx)(o.Dj,{children:(0,a.jsxs)("div",{className:"text-justify-start text-light placeholder-glow",children:[(0,a.jsxs)("div",{className:"ms-3 d-flex justify-items-start align-items-end",children:[(0,a.jsx)("h2",{className:"p-0 d-inline-block text-start placeholder col-7",children:"Placeholder"}),(0,a.jsx)("div",{className:"vr ms-2 me-2 ",style:{height:"40px"}}),(0,a.jsx)("h5",{className:"p-1 d-inline-block text-start placeholder col-3",children:"Placeholder"})]}),(0,a.jsx)("p",{className:"text-start ms-3 me-3 placeholder col-9"})]})})})});let b=new Date(t.date);function x(){return s?(0,a.jsx)(o.al,{floating:!0,onClick:()=>p(!0),color:"light",className:"m-2",children:(0,a.jsx)(o.$u,{far:!0,icon:"edit"})}):null}return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(function(){let e,[n,r]=(0,i.useState)({width:void 0,height:void 0}),l=[0,750,1200,1920],s=l[l.length-1],u=t.featuredImage?t.featuredImage.height/t.featuredImage.width:1,c="number"!=typeof s||isNaN(s)?l[l.length-1]:s,d=t.featuredImage?`https://${h.A.getValue("imageDeliveryHost")}/public/${t.featuredImage.id}-${t.featuredImage.filename}?width=${c}`:"",m={backgroundImage:`url(${d})`,backgroundAttachment:"fixed",backgroundPosition:"top",backgroundRepeat:"no-repeat",minHeight:Math.max(200,isNaN(e="number"!=typeof n.width||isNaN(n.width)?300:Math.min(n.width*u,400))?200:e),backgroundSize:""};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"d-flex align-items-end",style:m,children:(0,a.jsxs)("div",{style:{background:"linear-gradient(to bottom, hsla(0, 0%, 0%, 0) 20%, hsla(0, 0%, 0%, 0.5))",width:"100%"},className:"d-flex align-items-end",children:[(0,a.jsx)(x,{}),(0,a.jsx)(o.Dj,{children:(0,a.jsx)("div",{className:"text-justify-start text-light",children:(0,a.jsxs)("div",{className:"ms-3 d-flex justify-items-start align-items-end",children:[(0,a.jsx)("h2",{className:"p-0 d-inline-block text-start ",children:t.title}),(0,a.jsx)("div",{className:"vr ms-2 me-2 ",style:{height:"40px"}}),(0,a.jsxs)("h5",{className:"p-1 d-inline-block text-start",children:[b.getMonth()+1,"/",b.getDate(),"/",b.getFullYear()]})]})})})]})}),(0,a.jsx)(o.Dj,{breakpoint:"xl",children:(0,a.jsx)("p",{className:"text-start ms-1 me-1 mt-2 p-1",children:t.desc})})]})},{}),f?(0,a.jsx)(t3,{album_url:e,setEditMode:function(t){p(t),(0,d.KN)(e).then(e=>{n(e)})}}):(0,a.jsx)(a.Fragment,{}),(0,a.jsx)(o.Dj,{breakpoint:"xl",children:(0,a.jsx)(tJ,{setFeaturedImg:v,selectedAlbum:t,editMode:f,signedIn:"authenticated"===g.authStatus})})]})}}};var t=require("../../../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),r=t.X(0,[447,715,658,654,131,89],()=>n(31265));module.exports=r})();