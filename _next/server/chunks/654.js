"use strict";exports.id=654,exports.ids=[654],exports.modules={98654:(e,t,n)=>{n.d(t,{D:()=>no});var r,i,o,s,a,c,u,l,p,h=n(32401);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}"function"==typeof Symbol&&null!=Symbol.iterator&&Symbol.iterator,"function"==typeof Symbol&&null!=Symbol.asyncIterator&&Symbol.asyncIterator;var f="function"==typeof Symbol&&null!=Symbol.toStringTag?Symbol.toStringTag:"@@toStringTag";function y(e,t){for(var n,r=/\r\n|[\n\r]/g,i=1,o=t+1;(n=r.exec(e.body))&&n.index<t;)i+=1,o=t+1-(n.index+n[0].length);return{line:i,column:o}}function m(e,t){var n=e.locationOffset.column-1,r=E(n)+e.body,i=t.line-1,o=e.locationOffset.line-1,s=t.line+o,a=1===t.line?n:0,c=t.column+a,u="".concat(e.name,":").concat(s,":").concat(c,"\n"),l=r.split(/\r\n|[\n\r]/g),p=l[i];if(p.length>120){for(var h=Math.floor(c/80),d=c%80,f=[],y=0;y<p.length;y+=80)f.push(p.slice(y,y+80));return u+v([["".concat(s),f[0]]].concat(f.slice(1,h+1).map(function(e){return["",e]}),[[" ",E(d-1)+"^"],["",f[h+1]]]))}return u+v([["".concat(s-1),l[i-1]],["".concat(s),p],["",E(c-1)+"^"],["".concat(s+1),l[i+1]]])}function v(e){var t=e.filter(function(e){return e[0],void 0!==e[1]}),n=Math.max.apply(Math,t.map(function(e){return e[0].length}));return t.map(function(e){var t,r=e[0],i=e[1];return E(n-(t=r).length)+t+(i?" | "+i:" |")}).join("\n")}function E(e){return Array(e+1).join(" ")}function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function N(e,t){return t&&("object"===T(t)||"function"==typeof t)?t:S(e)}function S(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){var t="function"==typeof Map?new Map:void 0;return(O=function(e){var n;if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return _(e,arguments,g(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),A(r,e)})(e)}function _(e,t,n){return(_=I()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&A(i,n.prototype),i}).apply(null,arguments)}function I(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var k=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),e&&A(i,e);var t,n,r=(t=I(),function(){var e,n=g(i);return e=t?Reflect.construct(n,arguments,g(this).constructor):n.apply(this,arguments),N(this,e)});function i(e,t,n,o,s,a,c){if(!(this instanceof i))throw TypeError("Cannot call a class as a function");(E=r.call(this,e)).name="GraphQLError",E.originalError=null!=a?a:void 0,E.nodes=C(Array.isArray(t)?t:t?[t]:void 0);for(var u=[],l=0,p=null!=(T=E.nodes)?T:[];l<p.length;l++){var h,f,m,v,E,T,O=p[l].loc;null!=O&&u.push(O)}u=C(u),E.source=null!=n?n:null==(f=u)?void 0:f[0].source,E.positions=null!=o?o:null==(m=u)?void 0:m.map(function(e){return e.start}),E.locations=o&&n?o.map(function(e){return y(n,e)}):null==(v=u)?void 0:v.map(function(e){return y(e.source,e.start)}),E.path=null!=s?s:void 0;var _=null==a?void 0:a.extensions;return null==c&&"object"==d(h=_)&&null!==h?E.extensions=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach(function(t){var r,i,o;r=e,i=t,o=n[t],i in r?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},_):E.extensions=null!=c?c:{},(Object.defineProperties(S(E),{message:{enumerable:!0},locations:{enumerable:null!=E.locations},path:{enumerable:null!=E.path},extensions:{enumerable:null!=E.extensions&&Object.keys(E.extensions).length>0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),null!=a&&a.stack)?(Object.defineProperty(S(E),"stack",{value:a.stack,writable:!0,configurable:!0}),N(E)):(Error.captureStackTrace?Error.captureStackTrace(S(E),i):Object.defineProperty(S(E),"stack",{value:Error().stack,writable:!0,configurable:!0}),E)}return n=[{key:"toString",value:function(){return function(e){var t=e.message;if(e.nodes)for(var n=0,r=e.nodes;n<r.length;n++){var i,o=r[n];o.loc&&(t+="\n\n"+m((i=o.loc).source,y(i.source,i.start)))}else if(e.source&&e.locations)for(var s=0,a=e.locations;s<a.length;s++){var c=a[s];t+="\n\n"+m(e.source,c)}return t}(this)}},{key:f,get:function(){return"Object"}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(i.prototype,n),i}(O(Error));function C(e){return void 0===e||0===e.length?void 0:e}function w(e,t,n){return new k("Syntax Error: ".concat(n),void 0,e,[t])}var D=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"}),x="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0;function R(e){var t=e.prototype.toJSON;"function"==typeof t||function(e,t){throw Error("Unexpected invariant triggered.")}(0),e.prototype.inspect=t,x&&(e.prototype[x]=t)}var L=function(){function e(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}return e.prototype.toJSON=function(){return{start:this.start,end:this.end}},e}();R(L);var P=function(){function e(e,t,n,r,i,o,s){this.kind=e,this.start=t,this.end=n,this.line=r,this.column=i,this.value=s,this.prev=o,this.next=null}return e.prototype.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},e}();function M(e){return null!=e&&"string"==typeof e.kind}R(P);var F=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){switch(U(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":if(null===e)return"null";return function(e,t){if(-1!==t.indexOf(e))return"[Circular]";var n,r,i,o,s,a=[].concat(t,[e]),c="function"==typeof(r=(n=e)[String(x)])?r:"function"==typeof n.inspect?n.inspect:void 0;if(void 0!==c){var u=c.call(e);if(u!==e)return"string"==typeof u?u:j(u,a)}else if(Array.isArray(e)){var l=e,p=a;if(0===l.length)return"[]";if(p.length>2)return"[Array]";for(var h=Math.min(10,l.length),d=l.length-h,f=[],y=0;y<h;++y)f.push(j(l[y],p));return 1===d?f.push("... 1 more item"):d>1&&f.push("... ".concat(d," more items")),"["+f.join(", ")+"]"}return i=e,o=a,0===(s=Object.keys(i)).length?"{}":o.length>2?"["+function(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){var n=e.constructor.name;if("string"==typeof n&&""!==n)return n}return t}(i)+"]":"{ "+s.map(function(e){var t=j(i[e],o);return e+": "+t}).join(", ")+" }"}(e,t);default:return String(e)}}function B(e,t){if(!e)throw Error(t)}var K=function(){var e;function t(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GraphQL request",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{line:1,column:1};"string"==typeof e||B(0,"Body must be a string. Received: ".concat(j(e,[]),".")),this.body=e,this.name=t,this.locationOffset=n,this.locationOffset.line>0||B(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||B(0,"column in locationOffset is 1-indexed and must be positive.")}return e=[{key:f,get:function(){return"Source"}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}(),V=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});function G(e){for(var t=0;t<e.length;++t)if(" "!==e[t]&&"	"!==e[t])return!1;return!0}var $=function(){function e(e){var t=new P(F.SOF,0,0,0,0,null);this.source=e,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}var t=e.prototype;return t.advance=function(){return this.lastToken=this.token,this.token=this.lookahead()},t.lookahead=function(){var e,t=this.token;if(t.kind!==F.EOF)do t=null!=(e=t.next)?e:t.next=function(e,t){for(var n=e.source,r=n.body,i=r.length,o=t.end;o<i;){var s,a=r.charCodeAt(o),c=e.line,u=1+o-e.lineStart;switch(a){case 65279:case 9:case 32:case 44:++o;continue;case 10:++o,++e.line,e.lineStart=o;continue;case 13:10===r.charCodeAt(o+1)?o+=2:++o,++e.line,e.lineStart=o;continue;case 33:return new P(F.BANG,o,o+1,c,u,t);case 35:return function(e,t,n,r,i){var o,s=e.body,a=t;do o=s.charCodeAt(++a);while(!isNaN(o)&&(o>31||9===o));return new P(F.COMMENT,t,a,n,r,i,s.slice(t+1,a))}(n,o,c,u,t);case 36:return new P(F.DOLLAR,o,o+1,c,u,t);case 38:return new P(F.AMP,o,o+1,c,u,t);case 40:return new P(F.PAREN_L,o,o+1,c,u,t);case 41:return new P(F.PAREN_R,o,o+1,c,u,t);case 46:if(46===r.charCodeAt(o+1)&&46===r.charCodeAt(o+2))return new P(F.SPREAD,o,o+3,c,u,t);break;case 58:return new P(F.COLON,o,o+1,c,u,t);case 61:return new P(F.EQUALS,o,o+1,c,u,t);case 64:return new P(F.AT,o,o+1,c,u,t);case 91:return new P(F.BRACKET_L,o,o+1,c,u,t);case 93:return new P(F.BRACKET_R,o,o+1,c,u,t);case 123:return new P(F.BRACE_L,o,o+1,c,u,t);case 124:return new P(F.PIPE,o,o+1,c,u,t);case 125:return new P(F.BRACE_R,o,o+1,c,u,t);case 34:if(34===r.charCodeAt(o+1)&&34===r.charCodeAt(o+2))return function(e,t,n,r,i,o){for(var s=e.body,a=t+3,c=a,u=0,l="";a<s.length&&!isNaN(u=s.charCodeAt(a));){if(34===u&&34===s.charCodeAt(a+1)&&34===s.charCodeAt(a+2))return l+=s.slice(c,a),new P(F.BLOCK_STRING,t,a+3,n,r,i,function(e){var t=e.split(/\r\n|[\n\r]/g),n=function(e){for(var t,n=!0,r=!0,i=0,o=null,s=0;s<e.length;++s)switch(e.charCodeAt(s)){case 13:10===e.charCodeAt(s+1)&&++s;case 10:n=!1,r=!0,i=0;break;case 9:case 32:++i;break;default:r&&!n&&(null===o||i<o)&&(o=i),r=!1}return null!=(t=o)?t:0}(e);if(0!==n)for(var r=1;r<t.length;r++)t[r]=t[r].slice(n);for(var i=0;i<t.length&&G(t[i]);)++i;for(var o=t.length;o>i&&G(t[o-1]);)--o;return t.slice(i,o).join("\n")}(l));if(u<32&&9!==u&&10!==u&&13!==u)throw w(e,a,"Invalid character within String: ".concat(Y(u),"."));10===u?(++a,++o.line,o.lineStart=a):13===u?(10===s.charCodeAt(a+1)?a+=2:++a,++o.line,o.lineStart=a):92===u&&34===s.charCodeAt(a+1)&&34===s.charCodeAt(a+2)&&34===s.charCodeAt(a+3)?(l+=s.slice(c,a)+'"""',a+=4,c=a):++a}throw w(e,a,"Unterminated string.")}(n,o,c,u,t,e);return function(e,t,n,r,i){for(var o=e.body,s=t+1,a=s,c=0,u="";s<o.length&&!isNaN(c=o.charCodeAt(s))&&10!==c&&13!==c;){if(34===c)return u+=o.slice(a,s),new P(F.STRING,t,s+1,n,r,i,u);if(c<32&&9!==c)throw w(e,s,"Invalid character within String: ".concat(Y(c),"."));if(++s,92===c){switch(u+=o.slice(a,s-1),c=o.charCodeAt(s)){case 34:u+='"';break;case 47:u+="/";break;case 92:u+="\\";break;case 98:u+="\b";break;case 102:u+="\f";break;case 110:u+="\n";break;case 114:u+="\r";break;case 116:u+="	";break;case 117:var l,p,h,d,f=(l=o.charCodeAt(s+1),p=o.charCodeAt(s+2),h=o.charCodeAt(s+3),d=o.charCodeAt(s+4),z(l)<<12|z(p)<<8|z(h)<<4|z(d));if(f<0){var y=o.slice(s+1,s+5);throw w(e,s,"Invalid character escape sequence: \\u".concat(y,"."))}u+=String.fromCharCode(f),s+=4;break;default:throw w(e,s,"Invalid character escape sequence: \\".concat(String.fromCharCode(c),"."))}a=++s}}throw w(e,s,"Unterminated string.")}(n,o,c,u,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return function(e,t,n,r,i,o){var s,a=e.body,c=n,u=t,l=!1;if(45===c&&(c=a.charCodeAt(++u)),48===c){if((c=a.charCodeAt(++u))>=48&&c<=57)throw w(e,u,"Invalid number, unexpected digit after 0: ".concat(Y(c),"."))}else u=q(e,u,c),c=a.charCodeAt(u);if(46===c&&(l=!0,c=a.charCodeAt(++u),u=q(e,u,c),c=a.charCodeAt(u)),(69===c||101===c)&&(l=!0,(43===(c=a.charCodeAt(++u))||45===c)&&(c=a.charCodeAt(++u)),u=q(e,u,c),c=a.charCodeAt(u)),46===c||95===(s=c)||s>=65&&s<=90||s>=97&&s<=122)throw w(e,u,"Invalid number, expected digit but got: ".concat(Y(c),"."));return new P(l?F.FLOAT:F.INT,t,u,r,i,o,a.slice(t,u))}(n,o,a,c,u,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:for(var l=n,p=o,h=c,d=u,f=t,y=l.body,m=y.length,v=p+1,E=0;v!==m&&!isNaN(E=y.charCodeAt(v))&&(95===E||E>=48&&E<=57||E>=65&&E<=90||E>=97&&E<=122);)++v;return new P(F.NAME,p,v,h,d,f,y.slice(p,v))}throw w(n,o,(s=a)<32&&9!==s&&10!==s&&13!==s?"Cannot contain the invalid character ".concat(Y(s),"."):39===s?"Unexpected single quote character ('), did you mean to use a double quote (\")?":"Cannot parse the unexpected character ".concat(Y(s),"."))}var T=e.line,b=1+o-e.lineStart;return new P(F.EOF,i,i,T,b,t)}(this,t);while(t.kind===F.COMMENT);return t},e}();function Y(e){return isNaN(e)?F.EOF:e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'.concat(("00"+e.toString(16).toUpperCase()).slice(-4),'"')}function q(e,t,n){var r=e.body,i=t,o=n;if(o>=48&&o<=57){do o=r.charCodeAt(++i);while(o>=48&&o<=57);return i}throw w(e,i,"Invalid number, expected digit but got: ".concat(Y(o),"."))}function z(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function H(e,t){return new Q(e,t).parseDocument()}var Q=function(){function e(e,t){var n=e instanceof K?e:new K(e);this._lexer=new $(n),this._options=t}var t=e.prototype;return t.parseName=function(){var e=this.expectToken(F.NAME);return{kind:D.NAME,value:e.value,loc:this.loc(e)}},t.parseDocument=function(){var e=this._lexer.token;return{kind:D.DOCUMENT,definitions:this.many(F.SOF,this.parseDefinition,F.EOF),loc:this.loc(e)}},t.parseDefinition=function(){if(this.peek(F.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else if(this.peek(F.BRACE_L))return this.parseOperationDefinition();else if(this.peekDescription())return this.parseTypeSystemDefinition();throw this.unexpected()},t.parseOperationDefinition=function(){var e,t=this._lexer.token;if(this.peek(F.BRACE_L))return{kind:D.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(t)};var n=this.parseOperationType();return this.peek(F.NAME)&&(e=this.parseName()),{kind:D.OPERATION_DEFINITION,operation:n,name:e,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}},t.parseOperationType=function(){var e=this.expectToken(F.NAME);switch(e.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(e)},t.parseVariableDefinitions=function(){return this.optionalMany(F.PAREN_L,this.parseVariableDefinition,F.PAREN_R)},t.parseVariableDefinition=function(){var e=this._lexer.token;return{kind:D.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(F.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(F.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(e)}},t.parseVariable=function(){var e=this._lexer.token;return this.expectToken(F.DOLLAR),{kind:D.VARIABLE,name:this.parseName(),loc:this.loc(e)}},t.parseSelectionSet=function(){var e=this._lexer.token;return{kind:D.SELECTION_SET,selections:this.many(F.BRACE_L,this.parseSelection,F.BRACE_R),loc:this.loc(e)}},t.parseSelection=function(){return this.peek(F.SPREAD)?this.parseFragment():this.parseField()},t.parseField=function(){var e,t,n=this._lexer.token,r=this.parseName();return this.expectOptionalToken(F.COLON)?(e=r,t=this.parseName()):t=r,{kind:D.FIELD,alias:e,name:t,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(F.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(n)}},t.parseArguments=function(e){var t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(F.PAREN_L,t,F.PAREN_R)},t.parseArgument=function(){var e=this._lexer.token,t=this.parseName();return this.expectToken(F.COLON),{kind:D.ARGUMENT,name:t,value:this.parseValueLiteral(!1),loc:this.loc(e)}},t.parseConstArgument=function(){var e=this._lexer.token;return{kind:D.ARGUMENT,name:this.parseName(),value:(this.expectToken(F.COLON),this.parseValueLiteral(!0)),loc:this.loc(e)}},t.parseFragment=function(){var e=this._lexer.token;this.expectToken(F.SPREAD);var t=this.expectOptionalKeyword("on");return!t&&this.peek(F.NAME)?{kind:D.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(e)}:{kind:D.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseFragmentDefinition=function(){var e,t=this._lexer.token;return(this.expectKeyword("fragment"),(null==(e=this._options)?void 0:e.experimentalFragmentVariables)===!0)?{kind:D.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}:{kind:D.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}},t.parseFragmentName=function(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()},t.parseValueLiteral=function(e){var t=this._lexer.token;switch(t.kind){case F.BRACKET_L:return this.parseList(e);case F.BRACE_L:return this.parseObject(e);case F.INT:return this._lexer.advance(),{kind:D.INT,value:t.value,loc:this.loc(t)};case F.FLOAT:return this._lexer.advance(),{kind:D.FLOAT,value:t.value,loc:this.loc(t)};case F.STRING:case F.BLOCK_STRING:return this.parseStringLiteral();case F.NAME:switch(this._lexer.advance(),t.value){case"true":return{kind:D.BOOLEAN,value:!0,loc:this.loc(t)};case"false":return{kind:D.BOOLEAN,value:!1,loc:this.loc(t)};case"null":return{kind:D.NULL,loc:this.loc(t)};default:return{kind:D.ENUM,value:t.value,loc:this.loc(t)}}case F.DOLLAR:if(!e)return this.parseVariable()}throw this.unexpected()},t.parseStringLiteral=function(){var e=this._lexer.token;return this._lexer.advance(),{kind:D.STRING,value:e.value,block:e.kind===F.BLOCK_STRING,loc:this.loc(e)}},t.parseList=function(e){var t=this,n=this._lexer.token;return{kind:D.LIST,values:this.any(F.BRACKET_L,function(){return t.parseValueLiteral(e)},F.BRACKET_R),loc:this.loc(n)}},t.parseObject=function(e){var t=this,n=this._lexer.token;return{kind:D.OBJECT,fields:this.any(F.BRACE_L,function(){return t.parseObjectField(e)},F.BRACE_R),loc:this.loc(n)}},t.parseObjectField=function(e){var t=this._lexer.token,n=this.parseName();return this.expectToken(F.COLON),{kind:D.OBJECT_FIELD,name:n,value:this.parseValueLiteral(e),loc:this.loc(t)}},t.parseDirectives=function(e){for(var t=[];this.peek(F.AT);)t.push(this.parseDirective(e));return t},t.parseDirective=function(e){var t=this._lexer.token;return this.expectToken(F.AT),{kind:D.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e),loc:this.loc(t)}},t.parseTypeReference=function(){var e,t=this._lexer.token;return(this.expectOptionalToken(F.BRACKET_L)?(e=this.parseTypeReference(),this.expectToken(F.BRACKET_R),e={kind:D.LIST_TYPE,type:e,loc:this.loc(t)}):e=this.parseNamedType(),this.expectOptionalToken(F.BANG))?{kind:D.NON_NULL_TYPE,type:e,loc:this.loc(t)}:e},t.parseNamedType=function(){var e=this._lexer.token;return{kind:D.NAMED_TYPE,name:this.parseName(),loc:this.loc(e)}},t.parseTypeSystemDefinition=function(){var e=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(e.kind===F.NAME)switch(e.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(e)},t.peekDescription=function(){return this.peek(F.STRING)||this.peek(F.BLOCK_STRING)},t.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},t.parseSchemaDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");var n=this.parseDirectives(!0),r=this.many(F.BRACE_L,this.parseOperationTypeDefinition,F.BRACE_R);return{kind:D.SCHEMA_DEFINITION,description:t,directives:n,operationTypes:r,loc:this.loc(e)}},t.parseOperationTypeDefinition=function(){var e=this._lexer.token,t=this.parseOperationType();this.expectToken(F.COLON);var n=this.parseNamedType();return{kind:D.OPERATION_TYPE_DEFINITION,operation:t,type:n,loc:this.loc(e)}},t.parseScalarTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");var n=this.parseName(),r=this.parseDirectives(!0);return{kind:D.SCALAR_TYPE_DEFINITION,description:t,name:n,directives:r,loc:this.loc(e)}},t.parseObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");var n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),o=this.parseFieldsDefinition();return{kind:D.OBJECT_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:i,fields:o,loc:this.loc(e)}},t.parseImplementsInterfaces=function(){var e;if(!this.expectOptionalKeyword("implements"))return[];if((null==(e=this._options)?void 0:e.allowLegacySDLImplementsInterfaces)===!0){var t=[];this.expectOptionalToken(F.AMP);do t.push(this.parseNamedType());while(this.expectOptionalToken(F.AMP)||this.peek(F.NAME));return t}return this.delimitedMany(F.AMP,this.parseNamedType)},t.parseFieldsDefinition=function(){var e;return(null==(e=this._options)?void 0:e.allowLegacySDLEmptyFields)===!0&&this.peek(F.BRACE_L)&&this._lexer.lookahead().kind===F.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(F.BRACE_L,this.parseFieldDefinition,F.BRACE_R)},t.parseFieldDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),r=this.parseArgumentDefs();this.expectToken(F.COLON);var i=this.parseTypeReference(),o=this.parseDirectives(!0);return{kind:D.FIELD_DEFINITION,description:t,name:n,arguments:r,type:i,directives:o,loc:this.loc(e)}},t.parseArgumentDefs=function(){return this.optionalMany(F.PAREN_L,this.parseInputValueDef,F.PAREN_R)},t.parseInputValueDef=function(){var e,t=this._lexer.token,n=this.parseDescription(),r=this.parseName();this.expectToken(F.COLON);var i=this.parseTypeReference();this.expectOptionalToken(F.EQUALS)&&(e=this.parseValueLiteral(!0));var o=this.parseDirectives(!0);return{kind:D.INPUT_VALUE_DEFINITION,description:n,name:r,type:i,defaultValue:e,directives:o,loc:this.loc(t)}},t.parseInterfaceTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");var n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),o=this.parseFieldsDefinition();return{kind:D.INTERFACE_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:i,fields:o,loc:this.loc(e)}},t.parseUnionTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseUnionMemberTypes();return{kind:D.UNION_TYPE_DEFINITION,description:t,name:n,directives:r,types:i,loc:this.loc(e)}},t.parseUnionMemberTypes=function(){return this.expectOptionalToken(F.EQUALS)?this.delimitedMany(F.PIPE,this.parseNamedType):[]},t.parseEnumTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseEnumValuesDefinition();return{kind:D.ENUM_TYPE_DEFINITION,description:t,name:n,directives:r,values:i,loc:this.loc(e)}},t.parseEnumValuesDefinition=function(){return this.optionalMany(F.BRACE_L,this.parseEnumValueDefinition,F.BRACE_R)},t.parseEnumValueDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),r=this.parseDirectives(!0);return{kind:D.ENUM_VALUE_DEFINITION,description:t,name:n,directives:r,loc:this.loc(e)}},t.parseInputObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseInputFieldsDefinition();return{kind:D.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:n,directives:r,fields:i,loc:this.loc(e)}},t.parseInputFieldsDefinition=function(){return this.optionalMany(F.BRACE_L,this.parseInputValueDef,F.BRACE_R)},t.parseTypeSystemExtension=function(){var e=this._lexer.lookahead();if(e.kind===F.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)},t.parseSchemaExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var t=this.parseDirectives(!0),n=this.optionalMany(F.BRACE_L,this.parseOperationTypeDefinition,F.BRACE_R);if(0===t.length&&0===n.length)throw this.unexpected();return{kind:D.SCHEMA_EXTENSION,directives:t,operationTypes:n,loc:this.loc(e)}},t.parseScalarTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var t=this.parseName(),n=this.parseDirectives(!0);if(0===n.length)throw this.unexpected();return{kind:D.SCALAR_TYPE_EXTENSION,name:t,directives:n,loc:this.loc(e)}},t.parseObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),i=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===i.length)throw this.unexpected();return{kind:D.OBJECT_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:i,loc:this.loc(e)}},t.parseInterfaceTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),i=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===i.length)throw this.unexpected();return{kind:D.INTERFACE_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:i,loc:this.loc(e)}},t.parseUnionTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseUnionMemberTypes();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:D.UNION_TYPE_EXTENSION,name:t,directives:n,types:r,loc:this.loc(e)}},t.parseEnumTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseEnumValuesDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:D.ENUM_TYPE_EXTENSION,name:t,directives:n,values:r,loc:this.loc(e)}},t.parseInputObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseInputFieldsDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:D.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:n,fields:r,loc:this.loc(e)}},t.parseDirectiveDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(F.AT);var n=this.parseName(),r=this.parseArgumentDefs(),i=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var o=this.parseDirectiveLocations();return{kind:D.DIRECTIVE_DEFINITION,description:t,name:n,arguments:r,repeatable:i,locations:o,loc:this.loc(e)}},t.parseDirectiveLocations=function(){return this.delimitedMany(F.PIPE,this.parseDirectiveLocation)},t.parseDirectiveLocation=function(){var e=this._lexer.token,t=this.parseName();if(void 0!==V[t.value])return t;throw this.unexpected(e)},t.loc=function(e){var t;if((null==(t=this._options)?void 0:t.noLocation)!==!0)return new L(e,this._lexer.lastToken,this._lexer.source)},t.peek=function(e){return this._lexer.token.kind===e},t.expectToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t;throw w(this._lexer.source,t.start,"Expected ".concat(W(e),", found ").concat(J(t),"."))},t.expectOptionalToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t},t.expectKeyword=function(e){var t=this._lexer.token;if(t.kind===F.NAME&&t.value===e)this._lexer.advance();else throw w(this._lexer.source,t.start,'Expected "'.concat(e,'", found ').concat(J(t),"."))},t.expectOptionalKeyword=function(e){var t=this._lexer.token;return t.kind===F.NAME&&t.value===e&&(this._lexer.advance(),!0)},t.unexpected=function(e){var t=null!=e?e:this._lexer.token;return w(this._lexer.source,t.start,"Unexpected ".concat(J(t),"."))},t.any=function(e,t,n){this.expectToken(e);for(var r=[];!this.expectOptionalToken(n);)r.push(t.call(this));return r},t.optionalMany=function(e,t,n){if(this.expectOptionalToken(e)){var r=[];do r.push(t.call(this));while(!this.expectOptionalToken(n));return r}return[]},t.many=function(e,t,n){this.expectToken(e);var r=[];do r.push(t.call(this));while(!this.expectOptionalToken(n));return r},t.delimitedMany=function(e,t){this.expectOptionalToken(e);var n=[];do n.push(t.call(this));while(this.expectOptionalToken(e));return n},e}();function J(e){var t=e.value;return W(e.kind)+(null!=t?' "'.concat(t,'"'):"")}function W(e){return e===F.BANG||e===F.DOLLAR||e===F.AMP||e===F.PAREN_L||e===F.PAREN_R||e===F.SPREAD||e===F.COLON||e===F.EQUALS||e===F.AT||e===F.BRACKET_L||e===F.BRACKET_R||e===F.BRACE_L||e===F.PIPE||e===F.BRACE_R?'"'.concat(e,'"'):e}var X={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},Z=Object.freeze({});function ee(e){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:X,r=void 0,i=Array.isArray(e),o=[e],s=-1,a=[],c=void 0,u=void 0,l=void 0,p=[],h=[],d=e;do{var f,y=++s===o.length,m=y&&0!==a.length;if(y){if(u=0===h.length?void 0:p[p.length-1],c=l,l=h.pop(),m){if(i)c=c.slice();else{for(var v={},E=0,T=Object.keys(c);E<T.length;E++){var b=T[E];v[b]=c[b]}c=v}for(var N=0,S=0;S<a.length;S++){var O=a[S][0],_=a[S][1];i&&(O-=N),i&&null===_?(c.splice(O,1),N++):c[O]=_}}s=r.index,o=r.keys,a=r.edits,i=r.inArray,r=r.prev}else{if(u=l?i?s:o[s]:void 0,null==(c=l?l[u]:d))continue;l&&p.push(u)}var I=void 0;if(!Array.isArray(c)){if(!M(c))throw Error("Invalid AST Node: ".concat(j(c,[]),"."));var A=function(e,t,n){var r=e[t];if(r){if(!n&&"function"==typeof r)return r;var i=n?r.leave:r.enter;if("function"==typeof i)return i}else{var o=n?e.leave:e.enter;if(o){if("function"==typeof o)return o;var s=o[t];if("function"==typeof s)return s}}}(t,c.kind,y);if(A){if((I=A.call(t,c,u,l,p,h))===Z)break;if(!1===I){if(!y){p.pop();continue}}else if(void 0!==I&&(a.push([u,I]),!y))if(M(I))c=I;else{p.pop();continue}}}void 0===I&&m&&a.push([u,c]),y?p.pop():(r={inArray:i,index:s,keys:o,edits:a,prev:r},o=(i=Array.isArray(c))?c:null!=(f=n[c.kind])?f:[],s=-1,a=[],l&&h.push(l),l=c)}while(void 0!==r);return 0!==a.length&&(d=a[a.length-1][1]),d}(e,{leave:et})}var et={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return er(e.definitions,"\n\n")+"\n"},OperationDefinition:function(e){var t=e.operation,n=e.name,r=eo("(",er(e.variableDefinitions,", "),")"),i=er(e.directives," "),o=e.selectionSet;return n||i||r||"query"!==t?er([t,er([n,r]),i,o]," "):o},VariableDefinition:function(e){var t=e.variable,n=e.type,r=e.defaultValue,i=e.directives;return t+": "+n+eo(" = ",r)+eo(" ",er(i," "))},SelectionSet:function(e){return ei(e.selections)},Field:function(e){var t=e.alias,n=e.name,r=e.arguments,i=e.directives,o=e.selectionSet,s=eo("",t,": ")+n,a=s+eo("(",er(r,", "),")");return a.length>80&&(a=s+eo("(\n",es(er(r,"\n")),"\n)")),er([a,er(i," "),o]," ")},Argument:function(e){return e.name+": "+e.value},FragmentSpread:function(e){return"..."+e.name+eo(" ",er(e.directives," "))},InlineFragment:function(e){var t=e.typeCondition,n=e.directives,r=e.selectionSet;return er(["...",eo("on ",t),er(n," "),r]," ")},FragmentDefinition:function(e){var t=e.name,n=e.typeCondition,r=e.variableDefinitions,i=e.directives,o=e.selectionSet;return"fragment ".concat(t).concat(eo("(",er(r,", "),")")," ")+"on ".concat(n," ").concat(eo("",er(i," ")," "))+o},IntValue:function(e){return e.value},FloatValue:function(e){return e.value},StringValue:function(e,t){var n=e.value;return e.block?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=-1===e.indexOf("\n"),i=" "===e[0]||"	"===e[0],o='"'===e[e.length-1],s="\\"===e[e.length-1],a=!r||o||s||n,c="";return a&&!(r&&i)&&(c+="\n"+t),c+=t?e.replace(/\n/g,"\n"+t):e,a&&(c+="\n"),'"""'+c.replace(/"""/g,'\\"""')+'"""'}(n,"description"===t?"":"  "):JSON.stringify(n)},BooleanValue:function(e){return e.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){return e.value},ListValue:function(e){return"["+er(e.values,", ")+"]"},ObjectValue:function(e){return"{"+er(e.fields,", ")+"}"},ObjectField:function(e){return e.name+": "+e.value},Directive:function(e){return"@"+e.name+eo("(",er(e.arguments,", "),")")},NamedType:function(e){return e.name},ListType:function(e){return"["+e.type+"]"},NonNullType:function(e){return e.type+"!"},SchemaDefinition:en(function(e){var t=e.directives,n=e.operationTypes;return er(["schema",er(t," "),ei(n)]," ")}),OperationTypeDefinition:function(e){return e.operation+": "+e.type},ScalarTypeDefinition:en(function(e){return er(["scalar",e.name,er(e.directives," ")]," ")}),ObjectTypeDefinition:en(function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return er(["type",t,eo("implements ",er(n," & ")),er(r," "),ei(i)]," ")}),FieldDefinition:en(function(e){var t=e.name,n=e.arguments,r=e.type,i=e.directives;return t+(ec(n)?eo("(\n",es(er(n,"\n")),"\n)"):eo("(",er(n,", "),")"))+": "+r+eo(" ",er(i," "))}),InputValueDefinition:en(function(e){var t=e.name,n=e.type,r=e.defaultValue,i=e.directives;return er([t+": "+n,eo("= ",r),er(i," ")]," ")}),InterfaceTypeDefinition:en(function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return er(["interface",t,eo("implements ",er(n," & ")),er(r," "),ei(i)]," ")}),UnionTypeDefinition:en(function(e){var t=e.name,n=e.directives,r=e.types;return er(["union",t,er(n," "),r&&0!==r.length?"= "+er(r," | "):""]," ")}),EnumTypeDefinition:en(function(e){var t=e.name,n=e.directives,r=e.values;return er(["enum",t,er(n," "),ei(r)]," ")}),EnumValueDefinition:en(function(e){return er([e.name,er(e.directives," ")]," ")}),InputObjectTypeDefinition:en(function(e){var t=e.name,n=e.directives,r=e.fields;return er(["input",t,er(n," "),ei(r)]," ")}),DirectiveDefinition:en(function(e){var t=e.name,n=e.arguments,r=e.repeatable,i=e.locations;return"directive @"+t+(ec(n)?eo("(\n",es(er(n,"\n")),"\n)"):eo("(",er(n,", "),")"))+(r?" repeatable":"")+" on "+er(i," | ")}),SchemaExtension:function(e){var t=e.directives,n=e.operationTypes;return er(["extend schema",er(t," "),ei(n)]," ")},ScalarTypeExtension:function(e){return er(["extend scalar",e.name,er(e.directives," ")]," ")},ObjectTypeExtension:function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return er(["extend type",t,eo("implements ",er(n," & ")),er(r," "),ei(i)]," ")},InterfaceTypeExtension:function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return er(["extend interface",t,eo("implements ",er(n," & ")),er(r," "),ei(i)]," ")},UnionTypeExtension:function(e){var t=e.name,n=e.directives,r=e.types;return er(["extend union",t,er(n," "),r&&0!==r.length?"= "+er(r," | "):""]," ")},EnumTypeExtension:function(e){var t=e.name,n=e.directives,r=e.values;return er(["extend enum",t,er(n," "),ei(r)]," ")},InputObjectTypeExtension:function(e){var t=e.name,n=e.directives,r=e.fields;return er(["extend input",t,er(n," "),ei(r)]," ")}};function en(e){return function(t){return er([t.description,e(t)],"\n")}}function er(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null!=(t=null==e?void 0:e.filter(function(e){return e}).join(n))?t:""}function ei(e){return eo("{\n",es(er(e,"\n")),"\n}")}function eo(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return null!=t&&""!==t?e+t+n:""}function es(e){return eo("  ",e.replace(/\n/g,"\n  "))}function ea(e){return -1!==e.indexOf("\n")}function ec(e){return null!=e&&e.some(ea)}var eu=n(4363);function el(e){return"function"==typeof e}var ep=function(e){var t=e(function(e){Error.call(e),e.stack=Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}(function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}});function eh(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var ed=function(){var e;function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e,t,n,r,i,o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var s=(0,eu.Ju)(o),a=s.next();!a.done;a=s.next())a.value.remove(this)}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}else o.remove(this);var c=this.initialTeardown;if(el(c))try{c()}catch(e){i=e instanceof ep?e.errors:[e]}var u=this._finalizers;if(u){this._finalizers=null;try{for(var l=(0,eu.Ju)(u),p=l.next();!p.done;p=l.next()){var h=p.value;try{ey(h)}catch(e){i=null!=i?i:[],e instanceof ep?i=(0,eu.fX)((0,eu.fX)([],(0,eu.zs)(i)),(0,eu.zs)(e.errors)):i.push(e)}}}catch(e){n={error:e}}finally{try{p&&!p.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}if(i)throw new ep(i)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)ey(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!=(n=this._finalizers)?n:[]).push(e)}},t.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},t.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},t.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&eh(t,e)},t.prototype.remove=function(e){var n=this._finalizers;n&&eh(n,e),e instanceof t&&e._removeParent(this)},(e=new t).closed=!0,t.EMPTY=e,t}();function ef(e){return e instanceof ed||e&&"closed"in e&&el(e.remove)&&el(e.add)&&el(e.unsubscribe)}function ey(e){el(e)?e():e.unsubscribe()}ed.EMPTY;var em={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ev={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=ev.delegate;return(null==i?void 0:i.setTimeout)?i.setTimeout.apply(i,(0,eu.fX)([e,t],(0,eu.zs)(n))):setTimeout.apply(void 0,(0,eu.fX)([e,t],(0,eu.zs)(n)))},clearTimeout:function(e){var t=ev.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function eE(e){ev.setTimeout(function(){var t=em.onUnhandledError;if(t)t(e);else throw e})}function eT(){}var eb=eN("C",void 0,void 0);function eN(e,t,n){return{kind:e,value:t,error:n}}var eS=null,eO=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,ef(t)&&t.add(n)):n.destination=ew,n}return(0,eu.C6)(t,e),t.create=function(e,t,n){return new eg(e,t,n)},t.prototype.next=function(e){this.isStopped?eC(eN("N",e,void 0),this):this._next(e)},t.prototype.error=function(e){this.isStopped?eC(eN("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?eC(eb,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(ed),e_=Function.prototype.bind;function eI(e,t){return e_.call(e,t)}var eA=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){ek(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){ek(e)}else ek(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){ek(e)}},e}(),eg=function(e){function t(t,n,r){var i,o,s=e.call(this)||this;return el(t)||!t?i={next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0}:s&&em.useDeprecatedNextContext?((o=Object.create(t)).unsubscribe=function(){return s.unsubscribe()},i={next:t.next&&eI(t.next,o),error:t.error&&eI(t.error,o),complete:t.complete&&eI(t.complete,o)}):i=t,s.destination=new eA(i),s}return(0,eu.C6)(t,e),t}(eO);function ek(e){if(em.useDeprecatedSynchronousErrorHandling)em.useDeprecatedSynchronousErrorHandling&&eS&&(eS.errorThrown=!0,eS.error=e);else eE(e)}function eC(e,t){var n=em.onStoppedNotification;n&&ev.setTimeout(function(){return n(e,t)})}var ew={closed:!0,next:eT,error:function(e){throw e},complete:eT},eD="function"==typeof Symbol&&Symbol.observable||"@@observable";function ex(e){return e}var eR=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this,i=!function(e){return e&&e instanceof eO||e&&el(e.next)&&el(e.error)&&el(e.complete)&&ef(e)}(e)?new eg(e,t,n):e;return!function(e){if(em.useDeprecatedSynchronousErrorHandling){var t=!eS;if(t&&(eS={errorThrown:!1,error:null}),e(),t){var n=eS,r=n.errorThrown,i=n.error;if(eS=null,r)throw i}}else e()}(function(){var e=r.operator,t=r.source;i.add(e?e.call(i,t):t?r._subscribe(i):r._trySubscribe(i))}),i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=eL(t))(function(t,r){var i=new eg({next:function(t){try{e(t)}catch(e){r(e),i.unsubscribe()}},error:r,complete:t});n.subscribe(i)})},e.prototype._subscribe=function(e){var t;return null==(t=this.source)?void 0:t.subscribe(e)},e.prototype[eD]=function(){return this},e.prototype.pipe=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(0===(e=t).length?ex:1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)})(this)},e.prototype.toPromise=function(e){var t=this;return new(e=eL(e))(function(e,n){var r;t.subscribe(function(e){return r=e},function(e){return n(e)},function(){return e(r)})})},e.create=function(t){return new e(t)},e}();function eL(e){var t;return null!=(t=null!=e?e:em.Promise)?t:Promise}var eP="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function eM(e){var t,n,r,i,o,s,a,c,u,l;if(e instanceof eR)return e;if(null!=e){if(el(e[eD])){return t=e,new eR(function(e){var n=t[eD]();if(el(n.subscribe))return n.subscribe(e);throw TypeError("Provided object does not correctly implement Symbol.observable")})}if((n=e)&&"number"==typeof n.length&&"function"!=typeof n){return r=e,new eR(function(e){for(var t=0;t<r.length&&!e.closed;t++)e.next(r[t]);e.complete()})}if(el(null==(i=e)?void 0:i.then)){return o=e,new eR(function(e){o.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,eE)})}if(s=e,Symbol.asyncIterator&&el(null==s?void 0:s[Symbol.asyncIterator]))return eF(e);if(el(null==(a=e)?void 0:a[eP])){return c=e,new eR(function(e){var t,n;try{for(var r=(0,eu.Ju)(c),i=r.next();!i.done;i=r.next()){var o=i.value;if(e.next(o),e.closed)return}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}e.complete()})}if(el(null==(u=e)?void 0:u.getReader))return eF(function(e){return(0,eu.AQ)(this,arguments,function(){var t,n,r;return(0,eu.YH)(this,function(i){switch(i.label){case 0:t=e.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,(0,eu.N3)(t.read())];case 3:if(r=(n=i.sent()).value,!n.done)return[3,5];return[4,(0,eu.N3)(void 0)];case 4:return[2,i.sent()];case 5:return[4,(0,eu.N3)(r)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}(e))}throw TypeError("You provided "+(null!==(l=e)&&"object"==typeof l?"an invalid object":"'"+l+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function eF(e){return new eR(function(t){(function(e,t){var n,r,i,o;return(0,eu.sH)(this,void 0,void 0,function(){var s;return(0,eu.YH)(this,function(a){switch(a.label){case 0:a.trys.push([0,5,6,11]),n=(0,eu.xN)(e),a.label=1;case 1:return[4,n.next()];case 2:if((r=a.sent()).done)return[3,4];if(s=r.value,t.next(s),t.closed)return[2];a.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return i={error:a.sent()},[3,11];case 6:if(a.trys.push([6,,9,10]),!(r&&!r.done&&(o=n.return)))return[3,8];return[4,o.call(n)];case 7:a.sent(),a.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})})(e,t).catch(function(e){return t.error(e)})})}function eU(e,t,n,r,i){return new ej(e,t,n,r,i)}var ej=function(e){function t(t,n,r,i,o,s){var a=e.call(this,t)||this;return a.onFinalize=o,a.shouldUnsubscribe=s,a._next=n?function(e){try{n(e)}catch(e){t.error(e)}}:e.prototype._next,a._error=i?function(e){try{i(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,a._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,a}return(0,eu.C6)(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),n||null==(t=this.onFinalize)||t.call(this)}},t}(eO);function eB(e){return function(t){if(el(null==t?void 0:t.lift))return t.lift(function(t){try{return e(t,this)}catch(e){this.error(e)}});throw TypeError("Unable to lift unknown Observable type")}}var eK=n(13145),eV=n(9406),eG=n(83141);!function(e){e.NO_API_KEY="No api-key configured",e.NO_CURRENT_USER="No current user",e.NO_CREDENTIALS="No credentials",e.NO_FEDERATED_JWT="No federated jwt",e.NO_AUTH_TOKEN="No auth token specified"}(r||(r={}));let e$=Symbol("amplify"),eY=Symbol("authMode"),eq=Symbol("authToken"),ez=Symbol("headers");var eH=n(58548);class eQ extends eH.x{constructor(e){super(e),this.constructor=eQ,Object.setPrototypeOf(this,eQ.prototype)}}class eJ extends eQ{constructor(e={}){super({name:"CanceledError",message:"Request is canceled by user",...e}),this.constructor=eJ,Object.setPrototypeOf(this,eJ.prototype)}}let eW=e=>!!e&&e instanceof eJ;(i||(i={})).InvalidApiName="InvalidApiName",i.InvalidApiName;var eX=n(88317);let eZ=e=>new eQ({name:e?.name,message:e.message,underlyingError:e}),e0=async e=>{let t=await (0,eX.F)(e);if(t)return Object.assign(eZ(t),{$metadata:t.$metadata})},e1=new eK.C("RestApis");var e3=n(9705),e2=n(70484),e4=n(98347),e5=n(5585);let e8="execute-api",e6=/^.+\.([a-z0-9-]+)\.([a-z0-9-]+)\.amazonaws\.com/,e9=(e,t)=>{let{service:n=e8,region:r="us-east-1"}=t?.amplify.getConfig()?.API?.REST?.[t?.apiName]??{},{hostname:i}=e,[,o,s]=e6.exec(i)??[];return o===e8?{service:o,region:s??r}:"appsync-api"===o?{service:"appsync",region:s??r}:{service:n,region:r}},e7=(e,t)=>{let n={};for(let t in e)n[t.toLowerCase()]=e[t];return t&&(n["content-type"]="application/json; charset=UTF-8",t instanceof FormData&&delete n["content-type"]),n},te=async(e,t,n)=>{let r,{url:i,method:o,headers:s,body:a,withCredentials:c,abortSignal:u}=t,l=a?a instanceof FormData?a:JSON.stringify(a??""):void 0,p={url:i,headers:e7(s,a),method:o,body:l},h={retryDecider:(0,e3.D)(e0),computeDelay:e2.y,withCrossDomainCredentials:c,abortSignal:u},d=tt(p,n),f=await tn(e);if(d&&f){let e=e9(i),t=n?.service??e.service,o=n?.region??e.region;r=await (0,e4.C)(p,{...h,credentials:f,region:o,service:t})}else r=await (0,e5.F)(p,{...h});return{statusCode:r.statusCode,headers:r.headers,body:r.body}},tt=({headers:e},t)=>!e.authorization&&!e["x-api-key"]&&!!t,tn=async e=>{try{let{credentials:t}=await e.Auth.fetchAuthSession();if(t)return t}catch(e){e1.debug("No credentials available, the request will be unsigned.")}return null};var tr=n(73828);let ti=new WeakMap,to=(e,{url:t,options:n,abortController:r})=>{let i=r??new AbortController,o=(function(e,t){let n,r=e=>!!t,i=new AbortController,o=i.signal,s=t?.signal,a=async()=>{try{let t=await (r(e)?e():e(o));if(t.statusCode>=300)throw await e0(t);return t}catch(r){let e=s??o,t=n??e.reason;if("AbortError"===r.name||e?.aborted===!0){let e=new eJ({...t&&{message:t},underlyingError:r});throw e1.debug(r),e}throw e1.debug(r),r}};return r()?a():{response:a(),cancel:e=>{!0!==o.aborted&&(i.abort(e),e&&o.reason!==e&&(n=e))}}})(async()=>te(e,{url:t,method:"POST",...n,abortSignal:i.signal},n?.signingServiceInfo),i).finally(()=>{ti.delete(o)});return o},ts=(e,t)=>{let n=ti.get(e);return!!n&&(n.abort(t),t&&n.signal.reason!==t&&(n.signal.reason=t),!0)},ta=(e,t)=>{ti.set(e,t)},tc=e=>to(tr.H,e);var tu=n(27014),tl=n(56776),tp=n(4908),th=n(55511),td=n.n(th);let tf={randomUUID:td().randomUUID},ty=new Uint8Array(256),tm=ty.length,tv=[];for(let e=0;e<256;++e)tv.push((e+256).toString(16).slice(1));let tE=function(e,t,n){if(tf.randomUUID&&!t&&!e)return tf.randomUUID();let r=(e=e||{}).random||(e.rng||function(){return tm>ty.length-16&&(td().randomFillSync(ty),tm=0),ty.slice(tm,tm+=16)})();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return function(e,t=0){return tv[e[t+0]]+tv[e[t+1]]+tv[e[t+2]]+tv[e[t+3]]+"-"+tv[e[t+4]]+tv[e[t+5]]+"-"+tv[e[t+6]]+tv[e[t+7]]+"-"+tv[e[t+8]]+tv[e[t+9]]+"-"+tv[e[t+10]]+tv[e[t+11]]+tv[e[t+12]]+tv[e[t+13]]+tv[e[t+14]]+tv[e[t+15]]}(r)};var tT=n(39249);let tb=e=>e&&e.nonRetryable;var tN=n(11500),tS=n(7228),tO=n(43736);let t_=new eK.C("retryUtil");async function tI(e,t,n,r){if("function"!=typeof e)throw Error("functionToRetry must be a function");return new Promise(async(i,o)=>{let s,a,c=0,u=!1,l=()=>{};for(r&&r.then(()=>{u=!0,clearTimeout(s),l()});!u;){c++,t_.debug(`${e.name} attempt #${c} with this vars: ${JSON.stringify(t)}`);try{return i(await e(...t))}catch(i){if(a=i,t_.debug(`error on ${e.name}`,i),tb(i))return t_.debug(`${e.name} non retryable error`,i),o(i);let r=n(c,t,i);if(t_.debug(`${e.name} retrying in ${r} ms`),!1===r||u)return o(i);await new Promise(e=>{s=setTimeout(l=e,r)})}}o(a)})}let tA=(e,t,n=tS.M,r)=>tI(e,t,(0,tO.y)(n),r);class tg extends Error{constructor(e){super(e),this.nonRetryable=!0}}!function(e){e.CONNECTION_CLOSED="Connection closed",e.CONNECTION_FAILED="Connection failed",e.REALTIME_SUBSCRIPTION_INIT_ERROR="AppSync Realtime subscription init error",e.SUBSCRIPTION_ACK="Subscription ack",e.TIMEOUT_DISCONNECT="Timeout disconnect"}(o||(o={})),function(e){e.Connected="Connected",e.ConnectedPendingNetwork="ConnectedPendingNetwork",e.ConnectionDisrupted="ConnectionDisrupted",e.ConnectionDisruptedPendingNetwork="ConnectionDisruptedPendingNetwork",e.Connecting="Connecting",e.ConnectedPendingDisconnect="ConnectedPendingDisconnect",e.Disconnected="Disconnected",e.ConnectedPendingKeepAlive="ConnectedPendingKeepAlive"}(s||(s={}));let tk=[400,401,403];!function(e){e.GQL_CONNECTION_INIT="connection_init",e.GQL_CONNECTION_ERROR="connection_error",e.GQL_CONNECTION_ACK="connection_ack",e.GQL_START="start",e.GQL_START_ACK="start_ack",e.GQL_DATA="data",e.GQL_CONNECTION_KEEP_ALIVE="ka",e.GQL_STOP="stop",e.GQL_COMPLETE="complete",e.GQL_ERROR="error"}(a||(a={})),function(e){e[e.PENDING=0]="PENDING",e[e.CONNECTED=1]="CONNECTED",e[e.FAILED=2]="FAILED"}(c||(c={})),function(e){e[e.CLOSED=0]="CLOSED",e[e.READY=1]="READY",e[e.CONNECTING=2]="CONNECTING"}(u||(u={}));let tC={accept:"application/json, text/javascript","content-encoding":"amz-1.0","content-type":"application/json; charset=UTF-8"};function tw(e,t){return eB(function(n,r){var i=0;n.subscribe(eU(r,function(n){r.next(e.call(t,n,i++))}))})}function tD(e,t,n,r,i){void 0===r&&(r=0),void 0===i&&(i=!1);var o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}let tx=()=>{if("undefined"==typeof self)return!1;let e=self;return void 0!==e.WorkerGlobalScope&&self instanceof e.WorkerGlobalScope};class tR{networkMonitor(e){let t=tx()?self:"undefined"!=typeof window&&window;if(!t)return eM([{online:!0}]);return new eR(e=>{e.next({online:t.navigator.onLine});let n=()=>e.next({online:!0}),r=()=>e.next({online:!1});return t.addEventListener("online",n),t.addEventListener("offline",r),tR._observers.push(e),()=>{t.removeEventListener("online",n),t.removeEventListener("offline",r),tR._observers=tR._observers.filter(t=>t!==e)}})}static _observerOverride(e){for(let t of this._observers){if(t.closed){this._observers=this._observers.filter(e=>e!==t);continue}t?.next&&t.next(e)}}}tR._observers=[];let tL=()=>new tR().networkMonitor(),tP={KEEP_ALIVE_MISSED:{keepAliveState:"unhealthy"},KEEP_ALIVE:{keepAliveState:"healthy"},CONNECTION_ESTABLISHED:{connectionState:"connected"},CONNECTION_FAILED:{intendedConnectionState:"disconnected",connectionState:"disconnected"},CLOSING_CONNECTION:{intendedConnectionState:"disconnected"},OPENING_CONNECTION:{intendedConnectionState:"connected",connectionState:"connecting"},CLOSED:{connectionState:"disconnected"},ONLINE:{networkState:"connected"},OFFLINE:{networkState:"disconnected"}};class tM{constructor(){this._networkMonitoringSubscription=void 0,this._linkedConnectionState={networkState:"connected",connectionState:"disconnected",intendedConnectionState:"disconnected",keepAliveState:"healthy"},this._initialNetworkStateSubscription=tL().subscribe(({online:e})=>{this.record(e?tP.ONLINE:tP.OFFLINE),this._initialNetworkStateSubscription?.unsubscribe()}),this._linkedConnectionStateObservable=new eR(e=>{e.next(this._linkedConnectionState),this._linkedConnectionStateObserver=e})}enableNetworkMonitoring(){this._initialNetworkStateSubscription?.unsubscribe(),void 0===this._networkMonitoringSubscription&&(this._networkMonitoringSubscription=tL().subscribe(({online:e})=>{this.record(e?tP.ONLINE:tP.OFFLINE)}))}disableNetworkMonitoring(){this._networkMonitoringSubscription?.unsubscribe(),this._networkMonitoringSubscription=void 0}get connectionStateObservable(){var e;let t;return this._linkedConnectionStateObservable.pipe(tw(e=>this.connectionStatesTranslator(e))).pipe((e=e=>{let n=e!==t;return t=e,n},eB(function(t,n){var r=0;t.subscribe(eU(n,function(t){return e.call(void 0,t,r++)&&n.next(t)}))})))}record(e){"connected"===e.intendedConnectionState?this.enableNetworkMonitoring():"disconnected"===e.intendedConnectionState&&this.disableNetworkMonitoring();let t={...this._linkedConnectionState,...e};this._linkedConnectionState={...t},this._linkedConnectionStateObserver?.next(this._linkedConnectionState)}connectionStatesTranslator({connectionState:e,networkState:t,intendedConnectionState:n,keepAliveState:r}){return"connected"===e&&"disconnected"===t?s.ConnectedPendingNetwork:"connected"===e&&"disconnected"===n?s.ConnectedPendingDisconnect:"disconnected"===e&&"connected"===n&&"disconnected"===t?s.ConnectionDisruptedPendingNetwork:"disconnected"===e&&"connected"===n?s.ConnectionDisrupted:"connected"===e&&"unhealthy"===r?s.ConnectedPendingKeepAlive:"connecting"===e?s.Connecting:"disconnected"===e?s.Disconnected:s.Connected}}!function(e){e.START_RECONNECT="START_RECONNECT",e.HALT_RECONNECT="HALT_RECONNECT"}(l||(l={}));class tF{constructor(){this.reconnectObservers=[]}addObserver(e){this.reconnectObservers.push(e)}record(e){e===l.START_RECONNECT&&void 0===this.reconnectSetTimeoutId&&void 0===this.reconnectIntervalId&&(this.reconnectSetTimeoutId=setTimeout(()=>{this._triggerReconnect(),this.reconnectIntervalId=setInterval(()=>{this._triggerReconnect()},6e4)},5e3)),e===l.HALT_RECONNECT&&(this.reconnectIntervalId&&(clearInterval(this.reconnectIntervalId),this.reconnectIntervalId=void 0),this.reconnectSetTimeoutId&&(clearTimeout(this.reconnectSetTimeoutId),this.reconnectSetTimeoutId=void 0))}close(){this.reconnectObservers.forEach(e=>{e.complete?.()})}_triggerReconnect(){this.reconnectObservers.forEach(e=>{e.next?.()})}}let tU=new eK.C("AWSAppSyncRealTimeProvider"),tj=e=>{tu.YZ.dispatch("api",e,"PubSub",tu.U9)},tB=/^https:\/\/\w{26}\.appsync\-api\.\w{2}(?:(?:\-\w{2,})+)\-\d\.amazonaws.com(?:\.cn)?\/graphql$/i;class tK{constructor(e={}){this.socketStatus=u.CLOSED,this.keepAliveTimeout=3e5,this.subscriptionObserverMap=new Map,this.promiseArray=[],this.connectionStateMonitor=new tM,this.reconnectionMonitor=new tF,this.connectionStateMonitorSubscription=this.connectionStateMonitor.connectionStateObservable.subscribe(e=>{tj({event:"ConnectionStateChange",data:{provider:this,connectionState:e},message:`Connection state is ${e}`}),this.connectionState=e,e===s.ConnectionDisrupted&&this.reconnectionMonitor.record(l.START_RECONNECT),[s.Connected,s.ConnectedPendingDisconnect,s.ConnectedPendingKeepAlive,s.ConnectedPendingNetwork,s.ConnectionDisruptedPendingNetwork,s.Disconnected].includes(e)&&this.reconnectionMonitor.record(l.HALT_RECONNECT)})}close(){this.socketStatus=u.CLOSED,this.connectionStateMonitor.record(tP.CONNECTION_FAILED),this.connectionStateMonitorSubscription.unsubscribe(),this.reconnectionMonitor.close()}getNewWebSocket(e,t){return new WebSocket(e,t)}getProviderName(){return"AWSAppSyncRealTimeProvider"}isCustomDomain(e){return null===e.match(tB)}subscribe(e,t){let{appSyncGraphqlEndpoint:n,region:r,query:i,variables:s,authenticationType:a,additionalHeaders:u,apiKey:l,authToken:p,libraryConfigHeaders:h}=e||{};return new eR(d=>{if(e&&n){let e,f=!1,y=tE(),m=()=>{f||(f=!0,this._startSubscriptionWithAWSAppSyncRealTime({options:{query:i,variables:s,region:r,authenticationType:a,appSyncGraphqlEndpoint:n,additionalHeaders:u,apiKey:l,authToken:p,libraryConfigHeaders:h},observer:d,subscriptionId:y,customUserAgentDetails:t}).catch(e=>{tU.debug(`${o.REALTIME_SUBSCRIPTION_INIT_ERROR}: ${e}`),this.connectionStateMonitor.record(tP.CLOSED)}).finally(()=>{f=!1}))};return e=new eR(e=>{this.reconnectionMonitor.addObserver(e)}).subscribe(()=>{m()}),m(),async()=>{e?.unsubscribe();try{await this._waitForSubscriptionToBeConnected(y);let{subscriptionState:e}=this.subscriptionObserverMap.get(y)||{};if(!e)return;if(e===c.CONNECTED)this._sendUnsubscriptionMessage(y);else throw Error("Subscription never connected")}catch(e){tU.debug(`Error while unsubscribing ${e}`)}finally{this._removeSubscriptionObserver(y)}}}d.error({errors:[{...new k("Subscribe only available for AWS AppSync endpoint")}]}),d.complete()})}async _startSubscriptionWithAWSAppSyncRealTime({options:e,observer:t,subscriptionId:n,customUserAgentDetails:r}){let{appSyncGraphqlEndpoint:i,authenticationType:o,query:s,variables:u,apiKey:l,region:p,libraryConfigHeaders:h=()=>({}),additionalHeaders:d={},authToken:f}=e,y={};y="function"==typeof d?await d({url:i||"",queryString:s||""}):d,f&&(y={...y,Authorization:f});let m=c.PENDING;this.subscriptionObserverMap.set(n,{observer:t,query:s??"",variables:u??{},subscriptionState:m,startAckTimeoutId:void 0});let v=JSON.stringify({query:s,variables:u}),E={...await this._awsRealTimeHeaderBasedAuth({apiKey:l,appSyncGraphqlEndpoint:i,authenticationType:o,payload:v,canonicalUri:"",region:p,additionalCustomHeaders:y}),...await h(),...y,[tT.YJ]:(0,eG.fE)(r)},T=JSON.stringify({id:n,payload:{data:v,extensions:{authorization:{...E}}},type:a.GQL_START});try{this.connectionStateMonitor.record(tP.OPENING_CONNECTION),await this._initializeWebSocketConnection({apiKey:l,appSyncGraphqlEndpoint:i,authenticationType:o,region:p,additionalCustomHeaders:y})}catch(e){this._logStartSubscriptionError(n,t,e);return}let{subscriptionFailedCallback:b,subscriptionReadyCallback:N}=this.subscriptionObserverMap.get(n)??{};this.subscriptionObserverMap.set(n,{observer:t,subscriptionState:m,query:s??"",variables:u??{},subscriptionReadyCallback:N,subscriptionFailedCallback:b,startAckTimeoutId:setTimeout(()=>{this._timeoutStartSubscriptionAck.call(this,n)},15e3)}),this.awsRealTimeSocket&&this.awsRealTimeSocket.send(T)}_logStartSubscriptionError(e,t,n){tU.debug({err:n});let r=String(n.message??"");if(Promise.resolve(this.connectionStateMonitor.record(tP.CLOSED)),this.connectionState!==s.ConnectionDisruptedPendingNetwork){tb(n)?t.error({errors:[{...new k(`${o.CONNECTION_FAILED}: ${r}`)}]}):tU.debug(`${o.CONNECTION_FAILED}: ${r}`);let{subscriptionFailedCallback:i}=this.subscriptionObserverMap.get(e)||{};"function"==typeof i&&i()}}async _waitForSubscriptionToBeConnected(e){let t=this.subscriptionObserverMap.get(e);if(t){let{subscriptionState:n}=t;if(n===c.PENDING)return new Promise((n,r)=>{let{observer:i,subscriptionState:o,variables:s,query:a}=t;this.subscriptionObserverMap.set(e,{observer:i,subscriptionState:o,variables:s,query:a,subscriptionReadyCallback:n,subscriptionFailedCallback:r})})}}_sendUnsubscriptionMessage(e){try{if(this.awsRealTimeSocket&&this.awsRealTimeSocket.readyState===WebSocket.OPEN&&this.socketStatus===u.READY){let t={id:e,type:a.GQL_STOP},n=JSON.stringify(t);this.awsRealTimeSocket.send(n)}}catch(e){tU.debug({err:e})}}_removeSubscriptionObserver(e){this.subscriptionObserverMap.delete(e),setTimeout(this._closeSocketIfRequired.bind(this),1e3)}_closeSocketIfRequired(){if(!(this.subscriptionObserverMap.size>0)){if(!this.awsRealTimeSocket){this.socketStatus=u.CLOSED;return}if(this.connectionStateMonitor.record(tP.CLOSING_CONNECTION),this.awsRealTimeSocket.bufferedAmount>0)setTimeout(this._closeSocketIfRequired.bind(this),1e3);else{tU.debug("closing WebSocket..."),this.keepAliveTimeoutId&&clearTimeout(this.keepAliveTimeoutId),this.keepAliveAlertTimeoutId&&clearTimeout(this.keepAliveAlertTimeoutId);let e=this.awsRealTimeSocket;e.onclose=null,e.onerror=null,e.close(1e3),this.awsRealTimeSocket=void 0,this.socketStatus=u.CLOSED,this.connectionStateMonitor.record(tP.CLOSED)}}}_handleIncomingSubscriptionMessage(e){if("string"!=typeof e.data)return;tU.debug(`subscription message from AWS AppSync RealTime: ${e.data}`);let{id:t="",payload:n,type:r}=JSON.parse(String(e.data)),{observer:i=null,query:s="",variables:u={},startAckTimeoutId:l,subscriptionReadyCallback:p,subscriptionFailedCallback:h}=this.subscriptionObserverMap.get(t)||{};if(tU.debug({id:t,observer:i,query:s,variables:u}),r===a.GQL_DATA&&n&&n.data)return void(i?i.next(n):tU.debug(`observer not found for id: ${t}`));if(r===a.GQL_START_ACK){tU.debug(`subscription ready for ${JSON.stringify({query:s,variables:u})}`),"function"==typeof p&&p(),l&&clearTimeout(l),tj({event:o.SUBSCRIPTION_ACK,data:{query:s,variables:u},message:"Connection established for subscription"});let e=c.CONNECTED;i&&this.subscriptionObserverMap.set(t,{observer:i,query:s,variables:u,startAckTimeoutId:void 0,subscriptionState:e,subscriptionReadyCallback:p,subscriptionFailedCallback:h}),this.connectionStateMonitor.record(tP.CONNECTION_ESTABLISHED);return}if(r===a.GQL_CONNECTION_KEEP_ALIVE){this.keepAliveTimeoutId&&clearTimeout(this.keepAliveTimeoutId),this.keepAliveAlertTimeoutId&&clearTimeout(this.keepAliveAlertTimeoutId),this.keepAliveTimeoutId=setTimeout(()=>this._errorDisconnect(o.TIMEOUT_DISCONNECT),this.keepAliveTimeout),this.keepAliveAlertTimeoutId=setTimeout(()=>{this.connectionStateMonitor.record(tP.KEEP_ALIVE_MISSED)},65e3),this.connectionStateMonitor.record(tP.KEEP_ALIVE);return}if(r===a.GQL_ERROR){let e=c.FAILED;i&&(this.subscriptionObserverMap.set(t,{observer:i,query:s,variables:u,startAckTimeoutId:l,subscriptionReadyCallback:p,subscriptionFailedCallback:h,subscriptionState:e}),tU.debug(`${o.CONNECTION_FAILED}: ${JSON.stringify(n)}`),i.error({errors:[{...new k(`${o.CONNECTION_FAILED}: ${JSON.stringify(n)}`)}]}),l&&clearTimeout(l),"function"==typeof h&&h())}}_errorDisconnect(e){tU.debug(`Disconnect error: ${e}`),this.awsRealTimeSocket&&(this.connectionStateMonitor.record(tP.CLOSED),this.awsRealTimeSocket.close()),this.socketStatus=u.CLOSED}_timeoutStartSubscriptionAck(e){let t=this.subscriptionObserverMap.get(e);if(t){let{observer:n,query:r,variables:i}=t;if(!n)return;this.subscriptionObserverMap.set(e,{observer:n,query:r,variables:i,subscriptionState:c.FAILED}),this.connectionStateMonitor.record(tP.CLOSED),tU.debug("timeoutStartSubscription",JSON.stringify({query:r,variables:i}))}}_initializeWebSocketConnection({appSyncGraphqlEndpoint:e,authenticationType:t,apiKey:n,region:r,additionalCustomHeaders:i}){if(this.socketStatus!==u.READY)return new Promise(async(o,s)=>{if(this.promiseArray.push({res:o,rej:s}),this.socketStatus===u.CLOSED)try{this.socketStatus=u.CONNECTING;let o=await this._awsRealTimeHeaderBasedAuth({authenticationType:t,payload:"{}",canonicalUri:"/connect",apiKey:n,appSyncGraphqlEndpoint:e,region:r,additionalCustomHeaders:i}),s=o?JSON.stringify(o):"",a=tN.Y.convert(s),c=tN.Y.convert("{}"),l=e??"";l=this.isCustomDomain(l)?l.concat("/realtime"):l.replace("appsync-api","appsync-realtime-api").replace("gogi-beta","grt-beta");let p="wss://";l=l.replace("https://",p).replace("http://",p);let h=`${l}?header=${a}&payload=${c}`;await this._initializeRetryableHandshake(h),this.promiseArray.forEach(({res:e})=>{tU.debug("Notifying connection successful"),e()}),this.socketStatus=u.READY,this.promiseArray=[]}catch(e){tU.debug("Connection exited with",e),this.promiseArray.forEach(({rej:t})=>t(e)),this.promiseArray=[],this.awsRealTimeSocket&&this.awsRealTimeSocket.readyState===WebSocket.OPEN&&this.awsRealTimeSocket.close(3001),this.awsRealTimeSocket=void 0,this.socketStatus=u.CLOSED}})}async _initializeRetryableHandshake(e){tU.debug("Initializaling retryable Handshake"),await tA(this._initializeHandshake.bind(this),[e],5e3)}async _initializeHandshake(e){tU.debug(`Initializing handshake ${e}`);try{await new Promise((t,n)=>{let r=this.getNewWebSocket(e,"graphql-ws");r.onerror=()=>{tU.debug("WebSocket connection error")},r.onclose=()=>{n(Error("Connection handshake error"))},r.onopen=()=>(this.awsRealTimeSocket=r,t())}),await new Promise((e,t)=>{if(this.awsRealTimeSocket){let n=!1;this.awsRealTimeSocket.onerror=e=>{tU.debug(`WebSocket error ${JSON.stringify(e)}`)},this.awsRealTimeSocket.onclose=e=>{tU.debug(`WebSocket closed ${e.reason}`),t(Error(JSON.stringify(e)))},this.awsRealTimeSocket.onmessage=r=>{if("string"!=typeof r.data)return;tU.debug(`subscription message from AWS AppSyncRealTime: ${r.data} `);let i=JSON.parse(r.data),{type:s,payload:{connectionTimeoutMs:c=3e5}={}}=i;if(s===a.GQL_CONNECTION_ACK){n=!0,this.awsRealTimeSocket&&(this.keepAliveTimeout=c,this.awsRealTimeSocket.onmessage=this._handleIncomingSubscriptionMessage.bind(this),this.awsRealTimeSocket.onerror=e=>{tU.debug(e),this._errorDisconnect(o.CONNECTION_CLOSED)},this.awsRealTimeSocket.onclose=e=>{tU.debug(`WebSocket closed ${e.reason}`),this._errorDisconnect(o.CONNECTION_CLOSED)}),e("Cool, connected to AWS AppSyncRealTime");return}if(s===a.GQL_CONNECTION_ERROR){let{payload:{errors:[{errorType:e="",errorCode:n=0}={}]=[]}={}}=i;t({errorType:e,errorCode:n})}};let r={type:a.GQL_CONNECTION_INIT};this.awsRealTimeSocket.send(JSON.stringify(r));let i=e=>{e||(this.connectionStateMonitor.record(tP.CONNECTION_FAILED),t(Error("Connection timeout: ack from AWSAppSyncRealTime was not received after 15000 ms")))};setTimeout(()=>i(n),15e3)}})}catch(n){let{errorType:e,errorCode:t}=n;if(tk.includes(t))throw new tg(e);if(e)throw Error(e);throw n}}async _awsRealTimeHeaderBasedAuth({apiKey:e,authenticationType:t,payload:n,canonicalUri:r,appSyncGraphqlEndpoint:i,region:o,additionalCustomHeaders:s}){let a={apiKey:this._awsRealTimeApiKeyHeader.bind(this),iam:this._awsRealTimeIAMHeader.bind(this),oidc:this._awsAuthTokenHeader.bind(this),userPool:this._awsAuthTokenHeader.bind(this),lambda:this._customAuthHeader,none:this._customAuthHeader};if(!t||!a[t])return void tU.debug(`Authentication type ${t} not supported`);{let c,u=a[t],l=i?new eV.o(i).host:void 0;return tU.debug(`Authenticating with ${JSON.stringify(t)}`),"apiKey"===t&&(c=e),await u({payload:n,canonicalUri:r,appSyncGraphqlEndpoint:i,apiKey:c,region:o,host:l,additionalCustomHeaders:s})}}async _awsAuthTokenHeader({host:e}){let t=await (0,tl.$)();return{Authorization:t?.tokens?.accessToken?.toString(),host:e}}async _awsRealTimeApiKeyHeader({apiKey:e,host:t}){return{host:t,"x-amz-date":new Date().toISOString().replace(/[:\-]|\.\d{3}/g,""),"x-api-key":e}}async _awsRealTimeIAMHeader({payload:e,canonicalUri:t,appSyncGraphqlEndpoint:n,region:r}){let i=(await (0,tl.$)()).credentials,o={url:`${n}${t}`,data:e,method:"POST",headers:{...tC}};return(0,tp.z)({headers:o.headers,method:o.method,url:new eV.o(o.url),body:o.data},{credentials:i,signingRegion:r,signingService:"appsync"}).headers}_customAuthHeader({host:e,additionalCustomHeaders:t}){if(!t?.Authorization)throw Error("No auth token specified");return{Authorization:t.Authorization,host:e}}}class tV extends eH.x{constructor(e){super(e),this.constructor=tV,Object.setPrototypeOf(this,tV.prototype)}}!function(e){e.NoAuthSession="NoAuthSession",e.NoRegion="NoRegion",e.NoCustomEndpoint="NoCustomEndpoint"}(p||(p={}));let tG={[p.NoAuthSession]:{message:"Auth session should not be empty."},[p.NoRegion]:{message:"Missing region."},[p.NoCustomEndpoint]:{message:"Custom endpoint region is present without custom endpoint."}},t$=new eK.C("GraphQLAPI resolveConfig"),tY=e=>{let t=e.getConfig();t.API?.GraphQL||t$.warn("The API configuration is missing. This is likely due to Amplify.configure() not being called prior to generateClient().");let{apiKey:n,customEndpoint:r,customEndpointRegion:i,defaultAuthMode:o,endpoint:s,region:a}=t.API?.GraphQL??{};return!function(e,t){let{message:n,recoverySuggestion:r}=tG[t];if(!e)throw new tV({name:t,message:n,recoverySuggestion:r})}(!(!r&&i),p.NoCustomEndpoint),{apiKey:n,customEndpoint:r,customEndpointRegion:i,defaultAuthMode:o,endpoint:s,region:a}},tq=e=>({headers:e.libraryOptions?.API?.GraphQL?.headers,withCredentials:e.libraryOptions?.API?.GraphQL?.withCredentials});function tz(e){return e.errors&&Array.isArray(e.errors)&&e.errors.forEach(e=>{var t;t=e,(t?.originalError?.name?.startsWith("UnauthorizedException")||t.message?.startsWith("Connection failed:")&&t.message?.includes("Permission denied"))&&(e.message="Unauthorized",e.recoverySuggestion="If you're calling an Amplify-generated API, make sure to set the \"authMode\" in generateClient({ authMode: '...' }) to the backend authorization rule's auth provider ('apiKey', 'userPool', 'iam', 'oidc', 'lambda')")}),e}new eK.C("GraphQLAPI");let tH=e=>"function"!=typeof e;class tQ{constructor(){this.appSyncRealTime=new tK,this._api={post:tc,cancelREST:ts,isCancelErrorREST:eW,updateRequestToBeCancellable:ta}}getModuleName(){return"InternalGraphQLAPI"}async _headerBasedAuth(e,t,n={}){let{region:i,endpoint:o,apiKey:s}=tY(e),a={};switch(t){case"apiKey":if(!s)throw Error(r.NO_API_KEY);a={"X-Api-Key":s};break;case"iam":if(void 0===(await e.Auth.fetchAuthSession()).credentials)throw Error(r.NO_CREDENTIALS);break;case"oidc":case"userPool":try{let t;if(!(t=(await e.Auth.fetchAuthSession()).tokens?.accessToken.toString()))throw Error(r.NO_FEDERATED_JWT);a={Authorization:t}}catch(e){throw Error(r.NO_CURRENT_USER)}break;case"lambda":if("object"==typeof n&&!n.Authorization)throw Error(r.NO_AUTH_TOKEN);a={Authorization:n.Authorization}}return a}getGraphqlOperationType(e){let[{operation:t}]=H(e).definitions;return t}graphql(e,{query:t,variables:n={},authMode:r,authToken:i},o,s){let a="string"==typeof t?H(t):H(ee(t)),[c={}]=a.definitions.filter(e=>"OperationDefinition"===e.kind),{operation:u}=c,l=o||{};switch(u){case"query":case"mutation":let p,h=new AbortController;return p=tH(e)?this._graphql(e,{query:a,variables:n,authMode:r},l,h,s,i):e(e=>this._graphql(e,{query:a,variables:n,authMode:r},l,h,s,i)),this._api.updateRequestToBeCancellable(p,h),p;case"subscription":return this._graphqlSubscribe(e,{query:a,variables:n,authMode:r},l,s,i);default:throw Error(`invalid operation type: ${u}`)}}async _graphql(e,{query:t,variables:n,authMode:r},i={},o,s,a){let c,u,l,{region:p,endpoint:h,customEndpoint:d,customEndpointRegion:f,defaultAuthMode:y}=tY(e),m=r||y||"iam",{headers:v,withCredentials:E}=tq(e);if("function"==typeof i){let e={method:"POST",url:new eV.o(d||h||"").toString(),queryString:ee(t)};c=await i(e)}else c=i;a&&(c={...c,Authorization:a});let T={...!d&&await this._headerBasedAuth(e,m,c),...d&&(f?await this._headerBasedAuth(e,m,c):{})||{},...v&&await v({query:ee(t),variables:n}),...c,...!d&&{"x-amz-user-agent":(0,eG.fE)(s)}},b={query:ee(t),variables:n||null};u=d&&!f||"oidc"!==m&&"userPool"!==m&&"iam"!==m&&"lambda"!==m?void 0:{service:f?"execute-api":"appsync",region:f||p};let N=d||h;if(!N)throw{data:{},errors:[new k("No graphql endpoint provided.")]};try{let{body:e}=await this._api.post({url:new eV.o(N),options:{headers:T,body:b,signingServiceInfo:u,withCredentials:E},abortController:o});l=await e.json()}catch(e){if(this.isCancelError(e))throw e;l={data:{},errors:[new k(e.message,null,null,null,null,e)]}}let{errors:S}=l;if(S&&S.length)throw tz(l);return l}isCancelError(e){return this._api.isCancelErrorREST(e)}cancel(e,t){return this._api.cancelREST(e,t)}_graphqlSubscribe(e,{query:t,variables:n,authMode:r},i={},o,s){let a=tY(e),{headers:c}=tq(e);return this.appSyncRealTime.subscribe({query:ee(t),variables:n,appSyncGraphqlEndpoint:a?.endpoint,region:a?.region,authenticationType:r||a?.defaultAuthMode,apiKey:a?.apiKey,additionalHeaders:i,authToken:s,libraryConfigHeaders:c},o).pipe(function e(t){return eB(function(n,r){var i,o=null,s=!1;o=n.subscribe(eU(r,void 0,void 0,function(a){i=eM(t(a,e(t)(n))),o?(o.unsubscribe(),o=null,i.subscribe(r)):s=!0})),s&&(o.unsubscribe(),o=null,i.subscribe(r))})}(e=>{if(e.errors)throw tz(e);throw e}))}}new tQ;class tJ extends tQ{getModuleName(){return"GraphQLAPI"}graphql(e,t,n){return super.graphql(e,t,n,{category:h.b7.API,action:h.Fu.GraphQl})}isCancelError(e){return super.isCancelError(e)}cancel(e,t){return super.cancel(e,t)}}let tW=new tJ;function tX(e,t){return e.authMode=e.authMode||this[eY],e.authToken=e.authToken||this[eq],tW.graphql(this[e$],e,t)}function tZ(e,t){return tW.cancel(e,t)}function t0(e){return tW.isCancelError(e)}let t1={HAS_ONE:"HAS_ONE",HAS_MANY:"HAS_MANY",BELONGS_TO:"BELONGS_TO"},t3=e=>{let t={};return Object.entries(e).forEach(([e,n])=>{if("object"==typeof n&&!Array.isArray(n)&&null!==n){if(void 0!==n.items){t[e]=n.items.map(e=>t3(e));return}t[e]=t3(n);return}t[e]=n}),t};function t2(e,t,n,r,i,o,s=!1){let a=r.models[t],c=a.fields,u=Object.entries(c).filter(([e,t])=>t?.type?.model!==void 0).map(([e])=>e);return n.map(t=>{let n={};for(let l of u){let u=c[l],p=(u?.type).model,h=r.models[p],d=h.primaryKeyInfo.primaryKeyFieldName,f=h.primaryKeyInfo.sortKeyFieldNames,y=u.association?.connectionType,m=[];u.association&&"associatedWith"in u.association&&(m=u.association.associatedWith);let v=[];switch(u.association&&"targetNames"in u.association&&(v=u.association.targetNames),y){case t1.HAS_ONE:case t1.BELONGS_TO:let E=f.reduce((e,n)=>{if(t[n])return e[n]=t[n]},{});s?n[l]=(n,r)=>{if(t[v[0]])return e.models[p].get(n,{[d]:t[v[0]],...E},{authMode:r?.authMode||i,authToken:r?.authToken||o})}:n[l]=n=>{if(t[v[0]])return e.models[p].get({[d]:t[v[0]],...E},{authMode:n?.authMode||i,authToken:n?.authToken||o})};break;case t1.HAS_MANY:let T=a.primaryKeyInfo.primaryKeyFieldName,b=a.primaryKeyInfo.sortKeyFieldNames,N=h.fields[m[0]];if(N.type.model){let r=[];N.association&&"targetNames"in N.association&&(r=N.association?.targetNames);let a=r.map((e,n)=>0===n?{[e]:{eq:t[T]}}:{[e]:{eq:t[b[n-1]]}});s?n[l]=(n,r)=>t[T]?e.models[p].list(n,{filter:{and:a},limit:r?.limit,nextToken:r?.nextToken,authMode:r?.authMode||i,authToken:r?.authToken||o}):[]:n[l]=n=>t[T]?e.models[p].list({filter:{and:a},limit:n?.limit,nextToken:n?.nextToken,authMode:n?.authMode||i,authToken:n?.authToken||o}):[];break}let S=m.map((e,n)=>0===n?{[e]:{eq:t[T]}}:{[e]:{eq:t[b[n-1]]}});s?n[l]=(n,r)=>t[T]?e.models[p].list(n,{filter:{and:S},limit:r?.limit,nextToken:r?.nextToken,authMode:r?.authMode||i,authToken:r?.authToken||o}):[]:n[l]=n=>t[T]?e.models[p].list({filter:{and:S},limit:n?.limit,nextToken:n?.nextToken,authMode:n?.authMode||i,authToken:n?.authToken||o}):[]}}return{...t,...n}})}let t4={CREATE:{operationPrefix:"create",usePlural:!1},READ:{operationPrefix:"get",usePlural:!1},UPDATE:{operationPrefix:"update",usePlural:!1},DELETE:{operationPrefix:"delete",usePlural:!1},LIST:{operationPrefix:"list",usePlural:!0},ONCREATE:{operationPrefix:"onCreate",usePlural:!1},ONUPDATE:{operationPrefix:"onUpdate",usePlural:!1},ONDELETE:{operationPrefix:"onDelete",usePlural:!1},OBSERVE_QUERY:{operationPrefix:"observeQuery",usePlural:!1}},t5=new Map;function t8(e){let{fields:t}=e,n=Object.values(t).map(({type:e,name:t})=>("string"==typeof e||"object"==typeof e&&"string"==typeof e?.enum)&&t).filter(Boolean),r=function(e){let t=new Set;for(let r of e.attributes||[]){var n;if(n=r,n?.type==="auth"&&"object"==typeof n?.properties&&Array.isArray(n?.properties?.rules)&&(n?.properties?.rules).every(e=>!!e.allow))for(let e of r.properties.rules)"owner"===e.allow&&t.add(e.ownerField||"owner")}return Array.from(t)}(e);return Array.from(new Set(n.concat(r)))}let t6=e=>t8(e).reduce((e,t)=>(e[t]="",e),{});function t9(e,t,n,r){let i,o,s,{name:a,pluralName:c,fields:u,primaryKeyInfo:{isCustomPrimaryKey:l,primaryKeyFieldName:p,sortKeyFieldNames:h}}=e[t],{operationPrefix:d,usePlural:f}=t4[n],{selectionSet:y}=r||{},m=t5.get(a)?.get(n);if(void 0!==m)return m;t5.has(a)||t5.set(a,new Map);let v=`${d}${f?c:a}`,E=function(e,t,n){let r=e[t];return n?function e(t){let n=[];return Object.entries(t).forEach(([t,r])=>{""===r?n.push(t):"object"==typeof r&&null!==r&&(r?.items?n.push(t,"{","items","{",e(r.items),"}","}"):n.push(t,"{",e(r),"}"))}),n.join(" ")}(function(e,t,n){let r=(t,n)=>{let[i,...o]=t.split("."),s={};if(0===o.length)s={[i]:""};else{let t=o[0],a=e[n].fields,c=a[i]?.type?.model;if(!c)throw Error(`${i} is not a model field`);if("*"===t)s={[i]:t6(e[c])};else{if(!a[i])throw Error(`${i} is not a field of model ${n}`);s={[i]:r(o.join("."),c)}}a[i]?.isArray&&(s={[i]:{items:s[i]}})}return s};return n.reduce((e,n)=>(function e(t,n){let r=e=>e&&"object"==typeof e;for(let i in t)t.hasOwnProperty(i)&&(n.hasOwnProperty(i)&&r(n[i])?e(t[i],n[i]):n[i]=t[i]);return n})(r(n,t),e),{})}(e,t,n)):t8(r).join(" ")}(e,t,y);switch(n){case"CREATE":case"UPDATE":case"DELETE":s??(s={input:`${d.charAt(0).toLocaleUpperCase()+d.slice(1)}${a}Input!`}),i??(i="mutation");case"READ":s??(s=l?[p,...h].reduce((e,t)=>(e[t]=u[t].type,e),{}):{[p]:`${u[p].type}!`}),o??(o=E);case"LIST":s??(s={filter:`Model${a}FilterInput`,limit:"Int",nextToken:"String"}),i??(i="query"),o??(o=`items { ${E} } nextToken __typename`);case"ONCREATE":case"ONUPDATE":case"ONDELETE":s??(s={filter:`ModelSubscription${a}FilterInput`}),i??(i="subscription"),o??(o=E);break;default:throw Error("Internal error: Attempted to generate graphql document for observeQuery. Please report this error.")}let T=`${i}${s?`(${Object.entries(s).map(([e,t])=>`$${e}: ${t}`)})`:""} { ${v}${s?`(${Object.keys(s).map(e=>`${e}: $${e}`)})`:""} { ${o} } }`;return t5.get(a)?.set(n,T),T}function t7(e,t,n,r){let{fields:i,primaryKeyInfo:{isCustomPrimaryKey:o,primaryKeyFieldName:s,sortKeyFieldNames:a}}=e,c={};switch(t){case"CREATE":c={input:n?ne(n,e,r):{}};break;case"UPDATE":c={input:n?Object.fromEntries(Object.entries(ne(n,e,r)).filter(([e])=>{let{isReadOnly:t}=i[e];return!t})):{}};break;case"READ":case"DELETE":n&&(c=o?[s,...a].reduce((e,t)=>(e[t]=n[t],e),{}):{[s]:n[s]}),"DELETE"===t&&(c={input:c});break;case"LIST":n?.filter&&(c.filter=n.filter),n?.nextToken&&(c.nextToken=n.nextToken),n?.limit&&(c.limit=n.limit);break;case"ONCREATE":case"ONUPDATE":case"ONDELETE":n?.filter&&(c={filter:n.filter});break;case"OBSERVE_QUERY":throw Error("Internal error: Attempted to build variables for observeQuery. Please report this error.");default:throw Error(`Unhandled operation case: ${t}`)}return c}function ne(e,t,n){let{fields:r}=t,i={};return Object.entries(e).forEach(([e,t])=>{let o=r[e]?.type,s=o?.model;if(s){let o=r[e]?.association,a=n.models[s].primaryKeyInfo;o?.connectionType===t1.HAS_ONE&&o.targetNames.forEach((e,n)=>{let r=o.associatedWith[n];i[e]=t[r]}),o?.connectionType===t1.BELONGS_TO&&o.targetNames.forEach((e,n)=>{if(0===n){let n=a.primaryKeyFieldName;i[e]=t[n]}else{let r=a.sortKeyFieldNames[n-1];i[e]=t[r]}})}else i[e]=t}),i}function nt(e,t={}){return{authMode:t.authMode||e[eY],authToken:t.authToken||e[eq]}}function nn(e,t){let n=e[ez]||{};return t&&(n=t),n}async function nr(e,t,n,r,i){let{name:o}=n,s=t9(t.models,o,"LIST",r),a=t7(n,"LIST",r,t);try{let n=nt(e,r),c=nn(e,r?.headers),{data:u,extensions:l}=i?await e.graphql(i,{...n,query:s,variables:a},c):await e.graphql({...n,query:s,variables:a},c);if(void 0!==u){let[s]=Object.keys(u);if(u[s].items){let a=t3(u)[s];if(r?.selectionSet)return{data:a,nextToken:u[s].nextToken,extensions:l};return{data:t2(e,o,a,t,n.authMode,n.authToken,!!i),nextToken:u[s].nextToken,extensions:l}}return{data:u[s],nextToken:u[s].nextToken,extensions:l}}}catch(e){if(e.errors)return e;throw e}}async function ni(e,t,n,r,i,o,s){let{name:a}=n,c=t9(t.models,a,o,i),u=t7(n,o,r,t);try{let n=nt(e,i),r=nn(e,i?.headers),{data:o,extensions:l}=s?await e.graphql(s,{...n,query:c,variables:u},r):await e.graphql({...n,query:c,variables:u},r);if(!o)return{data:null,extensions:l};{let[r]=Object.keys(o),c=t3(o)[r];if(i?.selectionSet)return{data:c,extensions:l};{let[r]=t2(e,a,[c],t,n.authMode,n.authToken,!!s);return{data:r,extensions:l}}}}catch(e){if(e.errors)return e;throw e}}function no(e={}){var t={...e,amplify:tr.H};let n={[e$]:t.amplify,[eY]:t.authMode,[eq]:t.authToken,[ez]:t.headers,graphql:tX,cancel:tZ,isCancelError:t0,models:{}};return n.models=function(e,t){let n={},r=t.amplify.getConfig();if(!r.API?.GraphQL)return{};let i=r.API.GraphQL.modelIntrospection;if(!i)return{};let o=["ONCREATE","ONUPDATE","ONDELETE"];for(let t of Object.values(i.models)){let{name:r}=t;n[r]={},Object.entries(t4).forEach(([s,{operationPrefix:a}])=>{"LIST"===s?n[r][a]=function(e,t,n,r=!1){let i=async(r,i)=>nr(e,t,n,i,r),o=async r=>nr(e,t,n,r);return r?i:o}(e,i,t):o.includes(s)?n[r][a]=function(e,t,n,r){let{name:i}=n;return o=>{let s=t9(t.models,i,r),a=t7(n,r,o,t),c=nt(e,o),u=nn(e,o?.headers);return e.graphql({...c,query:s,variables:a},u).pipe(tw(n=>{let[r]=Object.keys(n.data),[o]=t2(e,i,[n.data[r]],t,c.authMode,c.authToken);return o}))}}(e,i,t,s):"OBSERVE_QUERY"===s?n[r][a]=function(e,t){let{name:n}=t;return r=>new eR(i=>{let o=[],s=[],a=(...e)=>s.push(...e),c=e[n].onCreate(r).subscribe({next(e){a({item:e,type:"create"})},error(e){i.error({type:"onCreate",error:e})}}),u=e[n].onUpdate(r).subscribe({next(e){a({item:e,type:"update"})},error(e){i.error({type:"onUpdate",error:e})}}),l=e[n].onDelete(r).subscribe({next(e){a({item:e,type:"delete"})},error(e){i.error({type:"onDelete",error:e})}});function p(e){for(let t of e){let e=function(e,t,n){let r=Object.fromEntries(n.map(t=>[t,e[t]]));for(let e=0;e<t.length;e++)if(Object.keys(r).every(n=>r[n]===t[e][n]))return e;return -1}(t.item,o,h);switch(t.type){case"create":e<0&&o.push(t.item);break;case"update":e>=0&&(o[e]=t.item);break;case"delete":e>=0&&o.splice(e,1);break;default:console.error("Unrecognized message in observeQuery.",t)}}i.next({items:o,isSynced:!0})}let h=function(e){let{primaryKeyFieldName:t,sortKeyFieldNames:n}=e.primaryKeyInfo;return[t,...n]}(t);return(async()=>{let t=!0,c=null;for(;!i.closed&&(t||c);){t=!1;let{data:a,errors:u,nextToken:l}=await e[n].list({...r,nextToken:c});c=l,o.push(...a);let p=0===s.length&&null==c;if(i.next({items:o,isSynced:p}),Array.isArray(u))for(let e of u)i.error(e)}s.length>0&&p(s),a=(...e)=>(p(e),o.length)})(),()=>{c.unsubscribe(),u.unsubscribe(),l.unsubscribe()}})}(n,t):n[r][a]=function(e,t,n,r,i=!1){let o=async(i,o,s)=>ni(e,t,n,o,s,r,i),s=async(i,o)=>ni(e,t,n,i,o,r);return i?o:s}(e,i,t,s)})}return n}(n,t),n}}};